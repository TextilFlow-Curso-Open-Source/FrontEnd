import{a as Z}from"./chunk-7L5BX6GK.js";import{f as Q}from"./chunk-47QM3S6D.js";import{S as Y,e as b,g as L,h as z,k as U,l as F,m as W,p as V,r as G}from"./chunk-WV37CKRB.js";import{D as q,E as $}from"./chunk-UTGZS7YI.js";import{a as B,c as X}from"./chunk-5WSPT6UI.js";import{b as j}from"./chunk-YNTG2JIL.js";import{c as M,d as w,e as A,j as N,l as R,s as H}from"./chunk-27FP4Y7A.js";import{C as D,z as k}from"./chunk-XE5R4NI6.js";import"./chunk-ONYPU5BJ.js";import"./chunk-XMN5GRMF.js";import{$a as a,Ab as O,Hb as n,Ib as t,Jb as h,Nb as I,Rb as _,Sb as g,Vb as u,Za as P,bc as r,cc as m,dc as v,eb as E,la as C,lb as y,ma as x,nc as o,oc as l,pc as T,qb as S,yb as p}from"./chunk-ZUXVFBKG.js";function K(s,e){if(s&1&&(n(0,"div",6),r(1),t()),s&2){let i=g();a(),m(i.pendingBatches.length)}}function ee(s,e){s&1&&(n(0,"div",13)(1,"div",14)(2,"mat-icon",15),r(3,"hourglass_empty"),t()(),n(4,"p"),r(5),o(6,"translate"),t()()),s&2&&(a(5),m(l(6,1,"COMMON.LOADING")))}function te(s,e){s&1&&(n(0,"div",16)(1,"mat-icon",17),r(2,"inventory"),t(),n(3,"h3"),r(4),o(5,"translate"),t(),n(6,"p"),r(7),o(8,"translate"),t()()),s&2&&(a(4),m(l(5,2,"COMMON.NO_PENDING_BATCHES")),a(3),m(l(8,4,"COMMON.NO_DATA")))}function ie(s,e){if(s&1){let i=I();n(0,"div",20),_("click",function(){let d=C(i).$implicit,f=g(3);return x(f.selectBatch(d))}),n(1,"div",21)(2,"div",22)(3,"mat-icon"),r(4,"qr_code"),t(),n(5,"span"),r(6),t()(),n(7,"span",23)(8,"mat-icon",24),r(9),t(),r(10),t()(),n(11,"div",25)(12,"div",26)(13,"mat-icon"),r(14,"person"),t(),n(15,"div")(16,"span",27),r(17),o(18,"translate"),t(),n(19,"span",28),r(20),t()()(),n(21,"div",26)(22,"mat-icon"),r(23,"texture"),t(),n(24,"div")(25,"span",27),r(26),o(27,"translate"),t(),n(28,"span",28),r(29),t()()(),n(30,"div",26)(31,"mat-icon"),r(32,"palette"),t(),n(33,"div")(34,"span",27),r(35),o(36,"translate"),t(),n(37,"span",28),r(38),t()()(),n(39,"div",26)(40,"mat-icon"),r(41,"production_quantity_limits"),t(),n(42,"div")(43,"span",27),r(44),o(45,"translate"),t(),n(46,"span",28),r(47),t()()(),n(48,"div",26)(49,"mat-icon"),r(50,"calendar_today"),t(),n(51,"div")(52,"span",27),r(53),o(54,"translate"),t(),n(55,"span",28),r(56),o(57,"date"),t()()()(),n(58,"div",29)(59,"app-button",30),o(60,"translate"),_("click",function(){let d=C(i).$implicit,f=g(3);return x(f.selectBatch(d))}),t()()()}if(s&2){let i=e.$implicit,c=g(3);a(6),m(i.code),a(),p("ngClass",i.status.toLowerCase().replace(" ","-")),a(2),m(c.getStatusIcon(i.status)),a(),v(" ",i.status," "),a(7),m(l(18,15,"BATCH.CLIENT")),a(3),m(i.client),a(6),m(l(27,17,"BATCH.FABRIC_TYPE")),a(3),m(i.fabricType),a(6),m(l(36,19,"BATCH.COLOR")),a(3),m(i.color),a(6),m(l(45,21,"BATCH.QUANTITY")),a(3),m(i.quantity),a(6),m(l(54,23,"BATCH.DATE")),a(3),m(T(57,25,i.date,"dd/MM/yyyy")),a(3),u("label",l(60,28,"COMMON.PROCESS"))}}function ne(s,e){if(s&1&&(n(0,"div",18),S(1,ie,61,30,"div",19),t()),s&2){let i=g(2);a(),p("ngForOf",i.pendingBatches)}}function ae(s,e){if(s&1){let i=I();n(0,"div",7)(1,"div",8)(2,"h2")(3,"mat-icon"),r(4,"pending_actions"),t(),r(5),o(6,"translate"),t(),n(7,"div",9),_("click",function(){C(i);let d=g();return x(d.loadPendingBatches())}),n(8,"mat-icon"),r(9,"refresh"),t()()(),S(10,ee,7,3,"div",10)(11,te,9,6,"div",11)(12,ne,2,1,"div",12),t()}if(s&2){let i=g();a(5),v(" ",l(6,6,"BATCH_TABS.PENDING_BATCHES")," "),a(2),O("loading",i.isLoading),a(3),p("ngIf",i.isLoading),a(),p("ngIf",!i.isLoading&&i.pendingBatches.length===0),a(),p("ngIf",!i.isLoading&&i.pendingBatches.length>0)}}function re(s,e){if(s&1){let i=I();n(0,"div",16)(1,"mat-icon",17),r(2,"assignment"),t(),n(3,"h3"),r(4),o(5,"translate"),t(),n(6,"p"),r(7),o(8,"translate"),t(),n(9,"app-button",32),o(10,"translate"),_("click",function(){C(i);let d=g(2);return x(d.setActiveTab("pending"))}),t()()}s&2&&(a(4),m(l(5,3,"BATCH_TABS.SELECT_PENDING")),a(3),m(l(8,5,"BATCH_TABS.SELECT_PENDING_DESCRIPTION")),a(2),u("label",l(10,7,"BATCH_TABS.VIEW_PENDING")))}function oe(s,e){if(s&1&&(n(0,"div",60)(1,"div",61)(2,"mat-icon"),r(3,"visibility"),t(),n(4,"span"),r(5),o(6,"translate"),t()(),n(7,"div",62),h(8,"img",63),o(9,"translate"),t()()),s&2){let i=g(3);a(5),m(l(6,3,"BATCH.PREVIEW")),a(3),u("alt",l(9,5,"BATCH.PREVIEW")),p("src",i.imagePreview,P)}}function le(s,e){if(s&1){let i=I();n(0,"div",33)(1,"div",34)(2,"mat-icon"),r(3,"info"),t(),n(4,"span"),r(5),o(6,"translate"),n(7,"strong"),r(8),t()()(),n(9,"form",35),_("ngSubmit",function(){C(i);let d=g(2);return x(d.onSubmit())}),n(10,"div",36)(11,"h3")(12,"mat-icon"),r(13,"info_outline"),t(),r(14),o(15,"translate"),t(),n(16,"div",37)(17,"div",38),h(18,"app-input",39),o(19,"translate"),t(),n(20,"div",38),h(21,"app-input",40),o(22,"translate"),t()(),n(23,"div",37)(24,"div",38),h(25,"app-input",41),o(26,"translate"),t(),n(27,"div",38),h(28,"app-input",42),o(29,"translate"),t()(),n(30,"div",37)(31,"div",38),h(32,"app-input",43),o(33,"translate"),t(),n(34,"div",38),h(35,"app-input",44),o(36,"translate"),t()(),n(37,"div",45),h(38,"app-input",46),o(39,"translate"),t(),n(40,"div",38),h(41,"app-input",47),o(42,"translate"),t()(),n(43,"div",36)(44,"h3")(45,"mat-icon"),r(46,"settings"),t(),r(47),o(48,"translate"),t(),n(49,"div",48)(50,"label",49)(51,"mat-icon"),r(52,"flag"),t(),r(53),o(54,"translate"),t(),h(55,"app-input",50),n(56,"small",51)(57,"mat-icon",52),r(58,"help_outline"),t(),r(59),o(60,"translate"),t()(),n(61,"div",45),h(62,"app-input",53),o(63,"translate"),t(),n(64,"div",45),h(65,"app-input",54),o(66,"translate"),t()(),n(67,"div",36)(68,"h3")(69,"mat-icon"),r(70,"photo_camera"),t(),r(71),o(72,"translate"),t(),n(73,"div",45)(74,"label",49)(75,"mat-icon"),r(76,"upload"),t(),r(77),o(78,"translate"),t(),n(79,"app-input",55),_("change",function(d){C(i);let f=g(2);return x(f.onFileChange(d))}),t(),S(80,oe,10,7,"div",56),n(81,"small",51)(82,"mat-icon",52),r(83,"info"),t(),r(84),o(85,"translate"),t()()(),n(86,"div",57)(87,"app-button",58),o(88,"translate"),_("click",function(){C(i);let d=g(2);return x(d.onCancel())}),t(),n(89,"app-button",59),o(90,"translate"),_("click",function(){C(i);let d=g(2);return x(d.onSubmit())}),t()()()()}if(s&2){let i=g(2);a(5),v("",l(6,46,"BATCH_TABS.PROCESSING_BATCH"),": "),a(3),m(i.selectedBatch.code),a(),p("formGroup",i.form),a(5),v(" ",l(15,48,"BATCH.BATCH_INFORMATION")," "),a(4),u("label",l(19,50,"BATCH.BATCH_CODE")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(22,52,"BATCH.CLIENT")),p("disabled",!0)("fullWidth",!0),a(4),u("label",l(26,54,"BATCH.FABRIC_TYPE")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(29,56,"BATCH.COLOR")),p("disabled",!0)("fullWidth",!0),a(4),u("label",l(33,58,"BATCH.QUANTITY")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(36,60,"BATCH.PRICE")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(39,62,"BATCH.ADDRESS")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(42,64,"BATCH.REGISTER_DATE")),p("disabled",!0)("fullWidth",!0),a(6),v(" ",l(48,66,"BATCH.PROCESSING_OPTIONS")," "),a(6),v(" ",l(54,68,"BATCH.STATUS")," "),a(2),p("options",i.availableStatuses)("fullWidth",!0),a(4),v(" ",l(60,70,"BATCH.SELECT_STATUS")," "),a(3),u("label",l(63,72,"BATCH.CLIENT_OBSERVATIONS")),p("disabled",!0)("fullWidth",!0),a(3),u("label",l(66,74,"BATCH.ADDITIONAL_COMMENTS")),p("fullWidth",!0),a(6),v(" ",l(72,76,"BATCH.SENDING_EVIDENCE")," "),a(6),v(" ",l(78,78,"BATCH.UPLOAD_IMAGE")," "),a(2),p("fullWidth",!0),a(),p("ngIf",i.imagePreview),a(4),v(" ",l(85,80,"BATCH.UPLOAD_EVIDENCE_HELP")," "),a(3),u("label",l(88,82,"COMMON.CANCEL")),a(2),u("label",l(90,84,"COMMON.PROCESS")),p("loading",i.isLoading)}}function ce(s,e){if(s&1&&(n(0,"div",7)(1,"div",8)(2,"h2")(3,"mat-icon"),r(4,"local_shipping"),t(),r(5),o(6,"translate"),t()(),S(7,re,11,9,"div",11)(8,le,91,86,"div",31),t()),s&2){let i=g();a(5),v(" ",l(6,3,"BATCH_TABS.PROCESS_BATCH")," "),a(2),p("ngIf",!i.selectedBatch),a(),p("ngIf",i.selectedBatch)}}var J=class s{constructor(e,i,c,d){this.fb=e;this.batchService=i;this.authService=c;this.router=d;let f=this.authService.getCurrentUser();f&&f.id&&(this.currentUserId=f.id)}form;activeTab="pending";pendingBatches=[];selectedBatch=null;isLoading=!1;notification={show:!1,message:"",type:"success"};availableStatuses=[{label:"Aceptado",value:"ACEPTADO"},{label:"Rechazado",value:"RECHAZADO"},{label:"Por Enviar",value:"POR_ENVIAR"},{label:"Enviado",value:"ENVIADO"}];selectedImage=null;imagePreview="";currentUserId="";ngOnInit(){this.initForm(),this.loadPendingBatches(),this.form.get("status")?.valueChanges.subscribe(e=>{console.log("\u{1F50D} Status field changed to:",e,typeof e),e&&typeof e=="object"&&console.log("\u26A0\uFE0F Status is an object, should be string:",e)})}initForm(){this.form=this.fb.group({code:[{value:"",disabled:!0},b.required],client:[{value:"",disabled:!0},b.required],fabricType:[{value:"",disabled:!0},b.required],color:[{value:"",disabled:!0},b.required],quantity:[{value:0,disabled:!0},[b.required,b.min(1)]],price:[{value:0,disabled:!0},[b.required,b.min(0)]],observations:[{value:"",disabled:!0}],address:[{value:"",disabled:!0}],date:[{value:new Date().toISOString().slice(0,10),disabled:!0},b.required],status:[null,b.required],imageUrl:[""],additionalComments:[""]})}loadPendingBatches(){this.isLoading=!0,console.log("SupplierRegisterBatch - Current User ID:",this.currentUserId),this.batchService.getBySupplierId(this.currentUserId).subscribe({next:e=>{console.log("SupplierRegisterBatch - All batches for supplier:",e),this.pendingBatches=e.filter(i=>i.supplierId===this.currentUserId),e.forEach(i=>{console.log(`Batch ${i.id}: status='${i.status}', supplierId='${i.supplierId}'`)}),console.log("SupplierRegisterBatch - Filtered pending batches:",this.pendingBatches),this.isLoading=!1},error:e=>{console.error("Error al cargar lotes pendientes:",e),this.showNotification("Error al cargar los lotes pendientes","error"),this.isLoading=!1}})}selectBatch(e){this.selectedBatch=e,this.clearImageData(),this.activeTab="register",this.form.patchValue({code:e.code,client:e.client,fabricType:e.fabricType,color:e.color,quantity:e.quantity,price:e.price,observations:e.observations||"",address:e.address||"",date:e.date,status:e.status,imageUrl:e.imageUrl||"",additionalComments:""}),e.imageUrl&&(this.imagePreview=e.imageUrl)}setActiveTab(e){this.activeTab=e,e==="pending"&&(this.selectedBatch=null,this.clearImageData(),this.form.reset(),this.initForm())}clearImageData(){this.imagePreview="",this.selectedImage=null;let e=document.querySelector('input[type="file"]');e&&(e.value="")}getStatusIcon(e){switch(e){case B.PENDIENTE:return"pending";case B.ACEPTADO:return"check_circle";case B.RECHAZADO:return"cancel";case B.POR_ENVIAR:return"schedule_send";case B.ENVIADO:return"local_shipping";default:return"help_outline"}}onFileChange(e){let i=e.target.files[0];if(!i)return;if(!i.type.startsWith("image/")){this.showNotification("Por favor seleccione un archivo de imagen v\xE1lido","warning");return}if(i.size>5*1024*1024){this.showNotification("La imagen no puede superar los 5MB","warning");return}this.selectedImage=i;let c=new FileReader;c.onload=()=>{this.imagePreview=c.result},c.onerror=()=>{this.showNotification("Error al cargar la imagen","error")},c.readAsDataURL(i),this.form.get("imageUrl")?.setValue(i.name)}getCleanStatus(e){return console.log("\u{1F50D} Status received from form:",e,typeof e),e&&typeof e=="object"&&e.value?(console.log("\u{1F4CB} Extracting value from object:",e.value),e.value):typeof e=="string"?(console.log("\u{1F4CB} Using string value:",e),e):(console.warn("\u26A0\uFE0F Could not determine status, using PENDIENTE as fallback"),"PENDIENTE")}onSubmit(){if(!this.selectedBatch){this.showNotification("Debe seleccionar un lote pendiente primero","warning");return}if(!this.form.get("status")?.value){this.showNotification("Por favor seleccione un estado v\xE1lido para el lote","warning");return}this.isLoading=!0;let e=this.form.get("status")?.value;console.log("\u{1F680} Starting update process with status:",e),this.updateBatch(e)}updateBatch(e){if(!this.selectedBatch){console.error("\u274C No selected batch");return}console.log("\u{1F680} Starting sequential update process..."),console.log("   Selected Batch:",this.selectedBatch),console.log("   New Status:",e),console.log("   Has new image:",!!this.selectedImage);let i=this.form.get("additionalComments")?.value||"",c=this.selectedBatch.observations||"";i.trim()&&(c=`${c} ${i}`.trim());let d={status:e,observations:c};console.log("\u{1F680} Step 1: Updating batch data:",d),this.batchService.updateBatch(this.selectedBatch.id,d).subscribe({next:f=>{console.log("\u2705 Step 1 completed - Batch updated:",f),this.selectedImage?(console.log("\u{1F680} Step 2: Uploading new image..."),this.uploadImageSequential()):(console.log("\u2705 No new image, process completed"),this.completeUpdateProcess(e))},error:f=>{console.error("\u274C Step 1 failed - Error updating batch:",f),this.showNotification(`Error al actualizar el lote: ${f.message}`,"error"),this.isLoading=!1}})}uploadImageSequential(){if(!this.selectedBatch||!this.selectedImage){console.error("\u274C Missing batch or image for upload");return}this.batchService.uploadBatchImage(this.selectedBatch.id,this.selectedImage).subscribe({next:e=>{console.log("\u2705 Step 2 completed - Image uploaded:",e),this.completeUpdateProcess(this.form.get("status")?.value,!0)},error:e=>{console.error("\u274C Step 2 failed - Error uploading image:",e),this.showNotification("Lote actualizado correctamente, pero hubo un error al subir la imagen","warning"),this.completeUpdateProcess(this.form.get("status")?.value,!1)}})}completeUpdateProcess(e,i=!0){let c=i?`Lote actualizado y marcado como ${e} correctamente`:`Lote actualizado como ${e} (imagen no se pudo subir)`,d=i?"success":"warning";this.showNotification(c,d),this.loadPendingBatches(),this.setActiveTab("pending"),this.isLoading=!1}formatDateForBackend(e){if(!e)return new Date().toISOString().slice(0,10);if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("T"))return e.split("T")[0];let i=new Date(e);return isNaN(i.getTime())?(console.warn("\u26A0\uFE0F Invalid date, using current date:",e),new Date().toISOString().slice(0,10)):i.toISOString().slice(0,10)}uploadImage(){!this.selectedBatch||!this.selectedImage||this.batchService.uploadBatchImage(this.selectedBatch.id,this.selectedImage).subscribe({next:()=>{this.showNotification("Lote e imagen actualizados correctamente","success"),this.loadPendingBatches(),this.setActiveTab("pending"),this.isLoading=!1},error:e=>{console.error("Error al subir la imagen:",e),this.showNotification("Lote actualizado pero error al subir imagen","warning"),this.loadPendingBatches(),this.setActiveTab("pending"),this.isLoading=!1}})}onCancel(){this.setActiveTab("pending"),this.form.reset(),this.initForm()}markFormGroupTouched(){Object.keys(this.form.controls).forEach(e=>{this.form.get(e)?.markAsTouched()})}showNotification(e,i){this.notification={show:!0,message:e,type:i}}static \u0275fac=function(i){return new(i||s)(E(V),E(X),E(j),E(H))};static \u0275cmp=y({type:s,selectors:[["app-supplier-register-batch"]],decls:18,vars:17,consts:[[1,"container"],[1,"tab-navigation"],[1,"tab-button",3,"click"],["class","badge",4,"ngIf"],["class","tab-content",4,"ngIf"],[3,"close","show","message","type","autoClose"],[1,"badge"],[1,"tab-content"],[1,"content-header"],[1,"refresh-button",3,"click"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","batches-grid",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"spin"],[1,"empty-state"],[1,"empty-icon"],[1,"batches-grid"],["class","batch-card",3,"click",4,"ngFor","ngForOf"],[1,"batch-card",3,"click"],[1,"batch-header"],[1,"batch-code"],[1,"batch-status",3,"ngClass"],[1,"status-icon"],[1,"batch-details"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"batch-actions"],["icon","send","variant","primary",3,"click","label"],["class","form-wrapper",4,"ngIf"],["icon","list","variant","primary",3,"click","label"],[1,"form-wrapper"],[1,"selected-batch-info"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["type","text","formControlName","code",3,"label","disabled","fullWidth"],["type","text","formControlName","client",3,"label","disabled","fullWidth"],["type","text","formControlName","fabricType",3,"label","disabled","fullWidth"],["type","text","formControlName","color",3,"label","disabled","fullWidth"],["type","number","formControlName","quantity",3,"label","disabled","fullWidth"],["type","number","formControlName","price",3,"label","disabled","fullWidth"],[1,"form-group","full-width"],["type","text","formControlName","address",3,"label","disabled","fullWidth"],["type","date","formControlName","date",3,"label","disabled","fullWidth"],[1,"form-group","full-width","status-group"],[1,"form-label"],["type","select","formControlName","status","placeholder","Selecciona un estado para el lote",3,"options","fullWidth"],[1,"form-help"],[1,"help-icon"],["type","textarea","formControlName","observations",3,"label","disabled","fullWidth"],["type","textarea","formControlName","additionalComments","placeholder","A\xF1ade comentarios adicionales sobre el env\xEDo",3,"label","fullWidth"],["type","file","formControlName","imageUrl","accept","image/*",3,"change","fullWidth"],["class","image-preview",4,"ngIf"],[1,"form-actions"],["icon","close","variant","secondary","size","normal",3,"click","label"],["icon","send","variant","primary","size","normal",3,"click","label","loading"],[1,"image-preview"],[1,"preview-header"],[1,"preview-container"],[1,"preview-image",3,"src","alt"]],template:function(i,c){i&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return c.setActiveTab("pending")}),n(3,"mat-icon"),r(4,"pending_actions"),t(),n(5,"span"),r(6),o(7,"translate"),t(),S(8,K,2,1,"div",3),t(),n(9,"button",2),_("click",function(){return c.setActiveTab("register")}),n(10,"mat-icon"),r(11,"local_shipping"),t(),n(12,"span"),r(13),o(14,"translate"),t()()(),S(15,ae,13,8,"div",4)(16,ce,9,5,"div",4),n(17,"app-notification",5),_("close",function(){return c.notification.show=!1}),t()()),i&2&&(a(2),O("active",c.activeTab==="pending"),a(4),m(l(7,13,"BATCH_TABS.PENDING_BATCHES")),a(2),p("ngIf",c.pendingBatches.length>0),a(),O("active",c.activeTab==="register"),a(4),m(l(14,15,"BATCH_TABS.REGISTER_SHIPPING")),a(2),p("ngIf",c.activeTab==="pending"),a(),p("ngIf",c.activeTab==="register"),a(),p("show",c.notification.show)("message",c.notification.message)("type",c.notification.type)("autoClose",!0))},dependencies:[R,M,w,A,N,G,U,L,z,F,W,Q,Y,Z,$,q,D,k],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.tab-navigation[_ngcontent-%COMP%]{display:flex;background:#f5f5f5;border-bottom:1px solid #ddd;margin-bottom:2rem;border-radius:8px 8px 0 0;overflow:hidden}.tab-button[_ngcontent-%COMP%]{flex:1;padding:1.25rem 2rem;cursor:pointer;border:none;background:transparent;font-size:1rem;font-weight:500;color:#6c757d;transition:all .3s ease;position:relative;display:flex;align-items:center;justify-content:center;gap:.75rem;border-bottom:3px solid transparent}.tab-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#495057}.tab-button.active[_ngcontent-%COMP%]{border-bottom:3px solid #d4a574;color:#8b5a2b;background-color:#fff}.tab-button[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;font-size:.75rem;display:flex;align-items:center;justify-content:center;position:absolute;top:.5rem;right:1rem}.tab-button.active[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#ff4444e6}.tab-content[_ngcontent-%COMP%]{margin-top:1rem}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.content-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.refresh-button[_ngcontent-%COMP%]{padding:.75rem;border-radius:50%;background:#f8f9fa;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.refresh-button[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:scale(1.05)}.refresh-button.loading[_ngcontent-%COMP%]{pointer-events:none}.refresh-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#f8f9fa;border-radius:12px;margin:2rem 0}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem!important;color:#6c757d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#f8f9fa;border-radius:12px;margin:2rem 0}.empty-icon[_ngcontent-%COMP%]{font-size:4rem!important;color:#dee2e6!important;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#495057;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;color:#6c757d;font-size:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.batches-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-top:1.5rem}.batch-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00000014;padding:1.5rem;transition:all .3s ease;cursor:pointer;border:1px solid #f1f3f4;position:relative;overflow:hidden}.batch-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:#dee2e6;transform:scaleX(0);transition:transform .3s ease}.batch-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.batch-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.batch-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.batch-code[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#2c3e50;font-size:1.1rem}.batch-code[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d}.batch-status[_ngcontent-%COMP%]{padding:.375rem .875rem;border-radius:20px;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:.375rem;text-transform:uppercase;letter-spacing:.5px}.status-icon[_ngcontent-%COMP%]{font-size:1rem!important}.batch-details[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;flex-direction:column;gap:.875rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#f8f9fa;border-radius:8px;transition:background-color .2s ease}.detail-item[_ngcontent-%COMP%]:hover{background:#e9ecef}.detail-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.125rem;color:#6c757d;flex-shrink:0}.detail-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;min-width:0}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;font-weight:500;word-break:break-word}.batch-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;border-top:1px solid #f1f3f4;padding-top:1rem;margin-top:1rem}.batch-status.pendiente[_ngcontent-%COMP%]{background-color:#ffeb3b;color:#333}.batch-status.aceptado[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.batch-status.rechazado[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.batch-status.por-enviar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.batch-status.enviado[_ngcontent-%COMP%]{background-color:#9c27b0;color:#fff}.selected-batch-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem 1.5rem;border-radius:12px;margin-bottom:2rem;display:flex;align-items:center;gap:.75rem;border:4px solid #dee2e6}.selected-batch-info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#6c757d;font-size:1.25rem}.selected-batch-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#495057;font-weight:500}.form-wrapper[_ngcontent-%COMP%]{background:#fff;border-color:transparent;border-radius:16px;box-shadow:0 4px 16px #00000014;overflow:hidden}.form-container[_ngcontent-%COMP%]{padding:2rem}.form-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;padding-bottom:2rem;border-bottom:1px solid #f1f3f4}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:0;padding-bottom:0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0 0 1.5rem;font-size:1.25rem;font-weight:600;color:#2c3e50}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#6c757d;font-size:1.375rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group.full-width[_ngcontent-%COMP%]{grid-column:span 2}.form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#495057;margin-bottom:.5rem}.form-label[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.125rem;color:#6c757d}.form-help[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.875rem;color:#6c757d;margin-top:.375rem}.help-icon[_ngcontent-%COMP%]{font-size:1rem!important}.status-group[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:12px;border:1px solid #e9ecef}.image-preview[_ngcontent-%COMP%]{margin-top:1.5rem;background:#f8f9fa;border-radius:12px;padding:1.5rem;border:2px dashed #dee2e6}.preview-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;font-weight:500;color:#495057}.preview-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#6c757d}.preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;background:#fff;border-radius:8px;padding:1rem}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:8px;box-shadow:0 4px 12px #0000001a;object-fit:contain}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:1px solid #f1f3f4}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.form-group.full-width[_ngcontent-%COMP%]{grid-column:span 1}.batches-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.batch-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.tab-button[_ngcontent-%COMP%]{padding:1rem;font-size:.9rem}.tab-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}']})};export{J as SupplierRegisterBatchComponent};
