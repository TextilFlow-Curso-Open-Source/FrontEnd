import{v as g,w as l}from"./chunk-Z3ABZYYA.js";import{i as c,j as p}from"./chunk-GNQ3TXIC.js";import{Z as a,ca as u,s}from"./chunk-LJ6G2VOH.js";var o=class extends g{companyName;ruc;businessType;industry;employeeCount;foundingYear;website;description;logo;constructor(t){super(t),this.companyName=t.companyName||"",this.ruc=t.ruc||"",this.businessType=t.businessType||"",this.industry=t.industry||"",this.employeeCount=t.employeeCount||0,this.foundingYear=t.foundingYear||new Date().getFullYear(),this.website=t.website||"",this.description=t.description||"",this.logo=t.logo||""}};var d=class i extends p{constructor(r){super();this.authService=r;this.resourceEndpoint=c.businessmanEndpointPath}createProfile(r){let e=this.authService.getCurrentUser();if(console.log("Usuario actual obtenido en BusinessmanService:",e),console.log("UserID esperado:",r),!e)throw console.error("No hay usuario autenticado en el sistema"),new Error("No hay usuario autenticado en el sistema");if(e.id!==r&&(console.warn(`ID de usuario no coincide. Actual: ${e.id}, Esperado: ${r}`),!e.id))throw new Error("El usuario actual no tiene ID asignado");let n=new o({id:e.id,name:e.name,email:e.email,password:e.password,role:"businessman",country:e.country,city:e.city,address:e.address,phone:e.phone,companyName:"",ruc:"",businessType:"",industry:"",employeeCount:0,foundingYear:new Date().getFullYear(),website:"",description:"",logo:""});return console.log("Businessman a crear:",n),this.create(n)}getAllBusinessmen(){return this.getAll()}getProfileByEmail(r){return this.getAll().pipe(s(e=>e.find(n=>n.email===r)))}getProfileById(r){return this.getById(r)}getProfileByUserId(r){return this.getProfileById(r)}updateProfile(r,e){return this.update(r,e)}static \u0275fac=function(e){return new(e||i)(u(l))};static \u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})};export{o as a,d as b};
