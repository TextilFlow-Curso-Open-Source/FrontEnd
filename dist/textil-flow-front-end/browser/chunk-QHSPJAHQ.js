import{g as u,h as m}from"./chunk-2V72WRPO.js";import{C as r,N as s,a as h,b as c,da as l,p as d,s as a}from"./chunk-3V6P7TZ6.js";var b={production:!0,huggingFaceApiKey:"PLACEHOLDER_HUGGINGFACE_API_KEY",serverBaseUrl:"https://analyses-engagement-berkeley-orange.trycloudflare.com/api/v1",authEndpointPath:"/authentication",userEndpointPath:"/users",businessmanEndpointPath:"/businessmen",supplierEndpointPath:"/suppliers",profileEndpointPath:"/profiles",businessSupplierRequests:"/business-supplier-requests",observationEndpointPath:"/observations",profileImagesEndpointPath:"/profiles",batchesEndpointPath:"/batches",supplierReviewEndpointPath:"/supplier-reviews",configurationEndpointPath:"/configurationssuppl",paymentEndpointPath:"/payments",stripePublishableKey:"pk_test_51RhjroQZmHfPn08lbpI7xgzkS3eDJngVHcp5MpJwKPhY80d43pnTt1Dt6H79Tki1draTZq1vpvfFbQrnZZDQqIYI00Rbq3vFvj",apiVersion:"v1",tokenPrefix:"Bearer ",tokenStorageKey:"auth_token",httpTimeout:3e4,httpRetries:2};var g=class{serverBaseUrl=`${b.serverBaseUrl}`;resourceEndpoint="/resources";http=l(m);get httpOptions(){return this.getHttpOptions()}getHttpOptions(){let t=new u({"Content-Type":"application/json",Accept:"application/json"}),e=localStorage.getItem("auth_token");return e&&!e.startsWith("fake-jwt-token-")&&!e.startsWith("temp-jwt-token-")&&(t=t.set("Authorization",`Bearer ${e}`)),{headers:t}}getPublicHttpOptions(){return{headers:new u({"Content-Type":"application/json",Accept:"application/json"})}}handleError(t){let e="Something bad happened; please try again later.";if(t.error instanceof ErrorEvent)console.error(`Client error: ${t.error.message}`),e=`Client error: ${t.error.message}`;else switch(console.error(`Backend returned code ${t.status}, body was:`,t.error),t.status){case 400:e="Bad request - Please check your input";break;case 401:e="Unauthorized - Please log in again";break;case 403:e="Forbidden - You don't have permission";break;case 404:e="Resource not found";break;case 500:e="Internal server error";break;default:e=`Server error: ${t.status}`}return d(()=>new Error(e))}resourcePath(){return`${this.serverBaseUrl}${this.resourceEndpoint}`}transformIdToLong(t){let e=parseInt(t,10);if(isNaN(e))throw new Error(`Invalid ID format: ${t}`);return e}transformIdToString(t){return t.toString()}transformResourceForBackend(t){return t.id?c(h({},t),{id:this.transformIdToLong(t.id)}):t}transformResourceFromBackend(t){return t.id?c(h({},t),{id:this.transformIdToString(t.id)}):t}create(t){let e=this.transformResourceForBackend(t);return this.http.post(this.resourcePath(),e,this.httpOptions).pipe(a(n=>this.transformResourceFromBackend(n)),s(2),r(this.handleError))}delete(t){let e=typeof t=="string"?this.transformIdToLong(t):t;return this.http.delete(`${this.resourcePath()}/${e}`,this.httpOptions).pipe(s(2),r(this.handleError))}update(t,e){let n=typeof t=="string"?this.transformIdToLong(t):t,p=this.transformResourceForBackend(e);return this.http.put(`${this.resourcePath()}/${n}`,p,this.httpOptions).pipe(a(o=>this.transformResourceFromBackend(o)),s(2),r(this.handleError))}getAll(){return this.http.get(this.resourcePath(),this.httpOptions).pipe(a(t=>t.map(e=>this.transformResourceFromBackend(e))),s(2),r(this.handleError))}getById(t){let e=typeof t=="string"?this.transformIdToLong(t):t;return this.http.get(`${this.resourcePath()}/${e}`,this.httpOptions).pipe(a(n=>this.transformResourceFromBackend(n)),s(2),r(this.handleError))}customRequest(t,e,n,p=!0){let o=`${this.serverBaseUrl}${t}`,i=p?this.httpOptions:this.getPublicHttpOptions();switch(e){case"GET":return this.http.get(o,i).pipe(s(2),r(this.handleError));case"POST":return this.http.post(o,n,i).pipe(s(2),r(this.handleError));case"PUT":return this.http.put(o,n,i).pipe(s(2),r(this.handleError));case"DELETE":return this.http.delete(o,i).pipe(s(2),r(this.handleError));default:throw new Error(`Unsupported HTTP method: ${e}`)}}};export{b as a,g as b};
