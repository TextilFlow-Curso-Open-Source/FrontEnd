import{S as y}from"./chunk-WV37CKRB.js";import{D as P,E as w}from"./chunk-UTGZS7YI.js";import{c as b,e as O,l as M}from"./chunk-27FP4Y7A.js";import{$a as a,Hb as n,Ib as e,Nb as x,Rb as _,Sb as r,bc as o,cc as f,dc as h,ka as u,la as d,lb as v,ma as m,qb as g,va as C,yb as l}from"./chunk-ZUXVFBKG.js";function E(i,c){i&1&&(n(0,"mat-icon"),o(1,"check_circle"),e())}function k(i,c){i&1&&(n(0,"mat-icon"),o(1,"cancel"),e())}function S(i,c){i&1&&(n(0,"mat-icon"),o(1,"warning"),e())}function T(i,c){i&1&&(n(0,"mat-icon"),o(1,"info"),e())}function A(i,c){if(i&1){let t=x();n(0,"div",6)(1,"div",7),g(2,E,2,0,"mat-icon",8)(3,k,2,0,"mat-icon",8)(4,S,2,0,"mat-icon",8)(5,T,2,0,"mat-icon",8),e(),n(6,"div",9),o(7),e(),n(8,"button",10),_("click",function(){d(t);let p=r(2);return m(p.handleClose())}),n(9,"mat-icon"),o(10,"close"),e()()()}if(i&2){let t=r(2);a(2),l("ngIf",t.type==="success"),a(),l("ngIf",t.type==="error"),a(),l("ngIf",t.type==="warning"),a(),l("ngIf",t.type==="info"),a(2),f(t.message)}}function N(i,c){if(i&1){let t=x();n(0,"div",11)(1,"app-button",12),_("click",function(){d(t);let p=r(2);return m(p.handleClose())}),e()()}if(i&2){let t=r(2);a(),l("label",t.buttonText)}}function V(i,c){if(i&1){let t=x();n(0,"div",20)(1,"mat-icon"),o(2,"phone"),e(),n(3,"div",21)(4,"strong"),o(5,"Tel\xE9fono"),e(),n(6,"span"),o(7),e()(),n(8,"button",23),_("click",function(){d(t);let p=r(3);return m(p.copyToClipboard(p.contactInfo.phone))}),n(9,"mat-icon"),o(10,"content_copy"),e()()()}if(i&2){let t=r(3);a(7),f(t.contactInfo.phone)}}function z(i,c){if(i&1&&(n(0,"div",20)(1,"mat-icon"),o(2,"location_on"),e(),n(3,"div",21)(4,"strong"),o(5,"Ubicaci\xF3n"),e(),n(6,"span"),o(7),e()()()),i&2){let t=r(3);a(7),f(t.contactInfo.location)}}function $(i,c){if(i&1&&(n(0,"div",20)(1,"mat-icon"),o(2,"work"),e(),n(3,"div",21)(4,"strong"),o(5,"Especializaci\xF3n"),e(),n(6,"span"),o(7),e()()()),i&2){let t=r(3);a(7),f(t.contactInfo.specialization)}}function D(i,c){if(i&1&&(n(0,"div",29)(1,"mat-icon"),o(2,"description"),e(),n(3,"div",21)(4,"strong"),o(5,"Descripci\xF3n"),e(),n(6,"span"),o(7),e()()()),i&2){let t=r(3);a(7),f(t.contactInfo.description)}}function F(i,c){if(i&1){let t=x();n(0,"app-button",30),_("click",function(){d(t);let p=r(3);return m(p.openWhatsApp())}),e()}}function j(i,c){if(i&1){let t=x();n(0,"div",13)(1,"div",14)(2,"mat-icon",15),o(3,"support_agent"),e(),n(4,"h3"),o(5,"Informaci\xF3n de Contacto del Proveedor"),e(),n(6,"button",16),_("click",function(){d(t);let p=r(2);return m(p.handleClose())}),n(7,"mat-icon"),o(8,"close"),e()()(),n(9,"div",17)(10,"div",18)(11,"mat-icon"),o(12,"qr_code"),e(),n(13,"span")(14,"strong"),o(15,"Lote:"),e(),o(16),e()(),n(17,"div",19)(18,"div",20)(19,"mat-icon"),o(20,"business"),e(),n(21,"div",21)(22,"strong"),o(23),e(),n(24,"span"),o(25),e()()(),g(26,V,11,1,"div",22),n(27,"div",20)(28,"mat-icon"),o(29,"email"),e(),n(30,"div",21)(31,"strong"),o(32,"Email"),e(),n(33,"span"),o(34),e()(),n(35,"button",23),_("click",function(){d(t);let p=r(2);return m(p.copyToClipboard(p.contactInfo.email))}),n(36,"mat-icon"),o(37,"content_copy"),e()()(),g(38,z,8,1,"div",22)(39,$,8,1,"div",22)(40,D,8,1,"div",24),e()(),n(41,"div",25),g(42,F,1,0,"app-button",26),n(43,"app-button",27),_("click",function(){d(t);let p=r(2);return m(p.openEmail())}),e(),n(44,"app-button",28),_("click",function(){d(t);let p=r(2);return m(p.handleClose())}),e()()()}if(i&2){let t=r(2);a(16),h(" ",t.contactInfo.batchCode,""),a(7),f(t.contactInfo.companyName||"Sin nombre de empresa"),a(2),f(t.contactInfo.supplierName),a(),l("ngIf",t.contactInfo.phone),a(8),f(t.contactInfo.email),a(4),l("ngIf",t.contactInfo.location),a(),l("ngIf",t.contactInfo.specialization),a(),l("ngIf",t.contactInfo.description),a(2),l("ngIf",t.contactInfo.phone)}}function U(i,c){if(i&1){let t=x();n(0,"div",1),_("click",function(){d(t);let p=r();return m(p.handleClose())}),n(1,"div",2),_("click",function(p){return d(t),m(p.stopPropagation())}),g(2,A,11,5,"div",3)(3,N,2,1,"div",4)(4,j,45,9,"div",5),e()()}if(i&2){let t=r();a(),l("ngClass","app-notification--"+t.type),a(),l("ngIf",t.type!=="contact"),a(),l("ngIf",t.type!=="contact"),a(),l("ngIf",t.type==="contact"&&t.contactInfo)}}var I=class i{show=!1;message="Operaci\xF3n completada";type="success";autoClose=!1;duration=3e3;buttonText="Aceptar";contactInfo=null;showChange=new C;close=new C;timer;ngOnInit(){this.show&&this.autoClose&&this.type!=="contact"&&this.startAutoCloseTimer()}ngOnDestroy(){this.clearAutoCloseTimer()}ngOnChanges(){this.show&&this.autoClose&&this.type!=="contact"?this.startAutoCloseTimer():this.clearAutoCloseTimer()}handleClose(){this.show=!1,this.showChange.emit(!1),this.close.emit()}copyToClipboard(c){navigator.clipboard.writeText(c).then(()=>{console.log("Copiado al portapapeles:",c)}).catch(t=>{console.error("Error al copiar:",t)})}openWhatsApp(){if(this.contactInfo?.phone){let c=this.contactInfo.phone.replace(/\D/g,""),t=`Hola, me comunico por la observaci\xF3n del lote ${this.contactInfo.batchCode}`,s=`https://wa.me/${c}?text=${encodeURIComponent(t)}`;window.open(s,"_blank")}}openEmail(){if(this.contactInfo?.email){let c=`Observaci\xF3n - Lote ${this.contactInfo.batchCode}`,t=`Estimado/a ${this.contactInfo.supplierName},

Me comunico con usted para coordinar la soluci\xF3n de la observaci\xF3n del lote ${this.contactInfo.batchCode}.

Quedo atento/a a su respuesta.

Saludos cordiales.`,s=`mailto:${this.contactInfo.email}?subject=${encodeURIComponent(c)}&body=${encodeURIComponent(t)}`;window.open(s)}}startAutoCloseTimer(){this.clearAutoCloseTimer(),this.timer=setTimeout(()=>this.handleClose(),this.duration)}clearAutoCloseTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-notification"]],inputs:{show:"show",message:"message",type:"type",autoClose:"autoClose",duration:"duration",buttonText:"buttonText",contactInfo:"contactInfo"},outputs:{showChange:"showChange",close:"close"},features:[u],decls:1,vars:1,consts:[["class","app-notification-overlay",3,"click",4,"ngIf"],[1,"app-notification-overlay",3,"click"],[1,"app-notification",3,"click","ngClass"],["class","app-notification-content",4,"ngIf"],["class","app-notification-actions",4,"ngIf"],["class","contact-notification",4,"ngIf"],[1,"app-notification-content"],[1,"app-notification-icon"],[4,"ngIf"],[1,"app-notification-message"],["aria-label","Cerrar notificaci\xF3n",1,"app-notification-close",3,"click"],[1,"app-notification-actions"],["variant","primary",3,"click","label"],[1,"contact-notification"],[1,"contact-header"],[1,"contact-icon"],[1,"app-notification-close",3,"click"],[1,"contact-body"],[1,"batch-info"],[1,"contact-grid"],[1,"contact-item"],[1,"contact-details"],["class","contact-item",4,"ngIf"],["title","Copiar",1,"copy-btn",3,"click"],["class","contact-item full-width",4,"ngIf"],[1,"contact-actions"],["label","WhatsApp","variant","primary","icon","chat",3,"click",4,"ngIf"],["label","Enviar Email","variant","secondary","icon","email",3,"click"],["label","Cerrar","variant","text",3,"click"],[1,"contact-item","full-width"],["label","WhatsApp","variant","primary","icon","chat",3,"click"]],template:function(t,s){t&1&&g(0,U,5,4,"div",0),t&2&&l("ngIf",s.show)},dependencies:[M,b,O,y,w,P],styles:[".app-notification-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.app-notification[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 4px 12px #00000026;padding:1.5rem;width:400px;max-width:95vw;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.app-notification-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:1rem}.app-notification-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:1.5rem;color:#866c52;flex-shrink:0}.app-notification-message[_ngcontent-%COMP%]{flex-grow:1;font-size:1rem;color:#333;padding-top:.25rem}.app-notification-close[_ngcontent-%COMP%]{background:transparent;border:none;color:#999;cursor:pointer;font-size:1rem;padding:.25rem;display:flex;align-items:center;justify-content:center;margin-left:.5rem}.app-notification-close[_ngcontent-%COMP%]:hover{color:#333}.app-notification-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.app-notification--error[_ngcontent-%COMP%]   .app-notification-icon[_ngcontent-%COMP%]{color:#f44336}.app-notification--warning[_ngcontent-%COMP%]   .app-notification-icon[_ngcontent-%COMP%]{color:#c58832}.app-notification--info[_ngcontent-%COMP%]   .app-notification-icon[_ngcontent-%COMP%], .app-notification--success[_ngcontent-%COMP%]   .app-notification-icon[_ngcontent-%COMP%]{color:#866c52}.contact-notification[_ngcontent-%COMP%]{padding:20px;max-width:500px;width:100%}.contact-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px;border-bottom:1px solid #e5e7eb;padding-bottom:16px}.contact-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:28px}.contact-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:600;color:#1f2937}.batch-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f3f4f6;padding:12px;border-radius:8px;margin-bottom:20px}.batch-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.contact-grid[_ngcontent-%COMP%]{display:grid;gap:16px;margin-bottom:20px}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;border:1px solid #e5e7eb;border-radius:8px}.contact-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.contact-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:20px;margin-top:2px}.contact-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.contact-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:14px}.contact-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;word-break:break-word}.copy-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;color:#6b7280;transition:all .2s}.copy-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#3b82f6}.contact-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end;border-top:1px solid #e5e7eb;padding-top:16px}@media (max-width: 1024px){.app-notification[_ngcontent-%COMP%]{width:90%;max-width:450px;padding:1.25rem}.contact-notification[_ngcontent-%COMP%]{max-width:450px}.contact-grid[_ngcontent-%COMP%]{gap:12px}.contact-item[_ngcontent-%COMP%]{padding:10px}}@media (max-width: 768px){.app-notification-overlay[_ngcontent-%COMP%]{padding:16px;align-items:flex-start;padding-top:20vh}.app-notification[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0;border-radius:12px 12px 0 0}.contact-notification[_ngcontent-%COMP%]{padding:16px;max-width:100%}.contact-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px;padding-bottom:12px}.contact-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.contact-item[_ngcontent-%COMP%]{padding:8px;flex-direction:column;align-items:flex-start;gap:8px}.contact-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-self:flex-start}.contact-details[_ngcontent-%COMP%]{width:100%}.contact-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.contact-actions[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}.copy-btn[_ngcontent-%COMP%]{align-self:flex-end;margin-top:-8px}}@media (max-width: 480px){.app-notification-overlay[_ngcontent-%COMP%]{padding:8px;padding-top:15vh}.app-notification[_ngcontent-%COMP%]{padding:1rem;border-radius:8px}.contact-notification[_ngcontent-%COMP%]{padding:12px}.app-notification-content[_ngcontent-%COMP%]{margin-bottom:.75rem}.app-notification-icon[_ngcontent-%COMP%]{font-size:1.25rem;margin-right:.75rem}.app-notification-message[_ngcontent-%COMP%]{font-size:.9rem}.contact-header[_ngcontent-%COMP%]{margin-bottom:16px;padding-bottom:8px}.contact-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.contact-icon[_ngcontent-%COMP%]{font-size:20px}.batch-info[_ngcontent-%COMP%]{padding:8px;margin-bottom:16px}.contact-item[_ngcontent-%COMP%]{padding:6px}.contact-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .contact-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.contact-actions[_ngcontent-%COMP%]{padding-top:12px}}@media (max-width: 360px){.app-notification-overlay[_ngcontent-%COMP%]{padding:4px;padding-top:10vh}.contact-notification[_ngcontent-%COMP%]{padding:8px}.contact-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}.contact-icon[_ngcontent-%COMP%]{font-size:18px}}@media (max-height: 600px) and (orientation: landscape){.app-notification-overlay[_ngcontent-%COMP%]{padding-top:5vh;align-items:flex-start}.app-notification[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto}.contact-notification[_ngcontent-%COMP%]{max-height:calc(90vh - 40px);overflow-y:auto}}"]})};export{I as a};
