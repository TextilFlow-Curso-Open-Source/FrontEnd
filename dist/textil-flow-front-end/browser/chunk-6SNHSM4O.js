import{a as Y,c as Q}from"./chunk-637EA4O6.js";import{a as K}from"./chunk-JGNPUBHB.js";import{S as q,c as z,g as F,j as H,q as j}from"./chunk-3QVQVNEG.js";import"./chunk-ZM53J4V7.js";import{b as G}from"./chunk-GG34XMCG.js";import{c as R,d as V,e as B,l as L}from"./chunk-6CUNOLLP.js";import{C as U,z as D}from"./chunk-PY2MZTIA.js";import"./chunk-QHSPJAHQ.js";import"./chunk-2V72WRPO.js";import{$a as r,Ab as C,Hb as i,Ib as n,Jb as T,Nb as f,Rb as m,Sb as d,Vb as S,Za as P,a as h,b as E,bc as s,cc as x,dc as b,eb as I,ec as M,gc as y,hc as k,ic as N,la as _,lb as w,lc as A,ma as u,nc as c,oc as p,qb as O,yb as g}from"./chunk-3V6P7TZ6.js";var $=()=>[1,2,3,4,5];function J(l,t){if(l&1&&(i(0,"span",19),s(1),n()),l&2){let e=d(2);r(),b("(",e.filteredObservations.length,")")}}function X(l,t){if(l&1){let e=f();i(0,"button",20),m("click",function(){_(e);let o=d(2);return u(o.clearSearch())}),i(1,"i",21),s(2,"close"),n()()}}function ee(l,t){if(l&1){let e=f();i(0,"div",22)(1,"div",23)(2,"button",24),m("click",function(){_(e);let o=d(2);return u(o.setStatusFilter(null))}),i(3,"i",21),s(4,"select_all"),n(),s(5),c(6,"translate"),n(),i(7,"button",24),m("click",function(){_(e);let o=d(2);return u(o.setStatusFilter(o.OBSERVATION_STATUS.PENDIENTE))}),i(8,"span",25),s(9,"\u25CF"),n(),s(10),c(11,"translate"),n(),i(12,"button",24),m("click",function(){_(e);let o=d(2);return u(o.setStatusFilter(o.OBSERVATION_STATUS.EN_REVISION))}),i(13,"span",26),s(14,"\u25CF"),n(),s(15),c(16,"translate"),n()()()}if(l&2){let e=d(2);r(2),C("active",!e.statusFilter),r(3),b(" ",p(6,9,"OBSERVATION_SUPPLIER.ALL_STATUSES")," "),r(2),C("active",e.statusFilter===e.OBSERVATION_STATUS.PENDIENTE),r(3),b(" ",p(11,11,"OBSERVATION_SUPPLIER.STATUS_PENDING")," "),r(2),C("active",e.statusFilter===e.OBSERVATION_STATUS.EN_REVISION),r(3),b(" ",p(16,13,"OBSERVATION_SUPPLIER.STATUS_SEEN")," ")}}function te(l,t){l&1&&(i(0,"div",30),T(1,"div",31)(2,"div",31)(3,"div",31)(4,"div",31)(5,"div",31),n())}function ie(l,t){l&1&&(i(0,"div",27)(1,"div",28),O(2,te,6,0,"div",29),n()()),l&2&&(r(2),g("ngForOf",A(1,$)))}function ne(l,t){if(l&1){let e=f();i(0,"app-button",35),c(1,"translate"),m("click",function(){_(e);let o=d(3);return u(o.clearSearch())}),n()}l&2&&S("label",p(1,1,"OBSERVATION_SUPPLIER.CLEAR_SEARCH"))}function re(l,t){if(l&1&&(i(0,"div",32)(1,"div",33)(2,"i",21),s(3,"visibility_off"),n()(),i(4,"h3"),s(5),c(6,"translate"),c(7,"translate"),n(),i(8,"p"),s(9),c(10,"translate"),c(11,"translate"),n(),O(12,ne,2,3,"app-button",34),n()),l&2){let e=d(2);r(5),x(e.searchTerm?p(6,3,"OBSERVATION_SUPPLIER.NO_MATCHING_OBSERVATIONS"):p(7,5,"OBSERVATION_SUPPLIER.NO_OBSERVATIONS_YET")),r(4),x(e.searchTerm?p(10,7,"OBSERVATION_SUPPLIER.TRY_DIFFERENT_SEARCH"):p(11,9,"OBSERVATION_SUPPLIER.NO_OBSERVATIONS_DESCRIPTION")),r(3),g("ngIf",e.searchTerm)}}function oe(l,t){if(l&1){let e=f();i(0,"tr",45)(1,"td",46)(2,"div",47)(3,"i",48),s(4,"qr_code"),n(),i(5,"strong"),s(6),n()()(),i(7,"td",49)(8,"div",50),s(9),n()(),i(10,"td",51),c(11,"translate"),m("click",function(){let o=_(e).$implicit,v=d(3);return u(v.toggleObservationStatus(o))}),i(12,"div",52)(13,"span",53)(14,"i",54),s(15),n(),s(16),i(17,"i",55),s(18,"sync"),n()()()(),i(19,"td",56)(20,"span",57),s(21),n()(),i(22,"td",58),m("click",function(o){return _(e),u(o.stopPropagation())}),i(23,"div",59)(24,"button",60),c(25,"translate"),m("click",function(){let o=_(e).$implicit,v=d(3);return u(v.viewObservationDetails(o))}),i(26,"i",21),s(27,"visibility"),n()()()()()}if(l&2){let e=t.$implicit,a=d(3);C("recent",a.isRecentObservation(e)),r(6),x(e.batchCode||"N/A"),r(3),b(" ",e.reason||"N/A"," "),r(),S("title",p(11,10,"OBSERVATION_SUPPLIER.CLICK_TO_TOGGLE")),r(3),g("ngClass",a.getStatusClass(e.status)),r(2),x(a.getStatusIcon(e.status)),r(),b(" ",a.getStatusDisplayLabel(e.status)," "),r(5),x(a.formatDate(e.createdAt)),r(3),g("title",p(25,12,"OBSERVATION_SUPPLIER.VIEW_DETAILS"))}}function ae(l,t){if(l&1){let e=f();i(0,"div",36)(1,"table",37)(2,"thead")(3,"tr")(4,"th",38),m("click",function(){_(e);let o=d(2);return u(o.sortBy("batchCode"))}),i(5,"div",39),s(6),c(7,"translate"),i(8,"i",40),s(9,"swap_vert"),n()()(),i(10,"th"),s(11),c(12,"translate"),n(),i(13,"th",41),m("click",function(){_(e);let o=d(2);return u(o.sortBy("status"))}),i(14,"div",39),s(15),c(16,"translate"),i(17,"i",40),s(18,"swap_vert"),n(),i(19,"small",42),s(20),c(21,"translate"),n()()(),i(22,"th",38),m("click",function(){_(e);let o=d(2);return u(o.sortBy("createdAt"))}),i(23,"div",39),s(24),c(25,"translate"),i(26,"i",40),s(27,"swap_vert"),n()()(),i(28,"th",43),s(29),c(30,"translate"),n()()(),i(31,"tbody"),O(32,oe,28,14,"tr",44),n()()()}if(l&2){let e=d(2);r(6),b(" ",p(7,8,"OBSERVATION_SUPPLIER.BATCH_CODE")," "),r(5),x(p(12,10,"OBSERVATION_SUPPLIER.REASON")),r(4),b(" ",p(16,12,"OBSERVATION_SUPPLIER.STATUS")," "),r(5),x(p(21,14,"OBSERVATION_SUPPLIER.CLICK_TO_CHANGE")),r(4),b(" ",p(25,16,"OBSERVATION_SUPPLIER.CREATED_DATE")," "),r(5),x(p(30,18,"COMMON.ACTIONS")),r(3),g("ngForOf",e.filteredObservations)("ngForTrackBy",e.trackByObservationId)}}function se(l,t){if(l&1){let e=f();i(0,"div")(1,"div",4)(2,"div",5)(3,"h2")(4,"i",6),s(5,"visibility"),n(),s(6),c(7,"translate"),O(8,J,2,1,"span",7),n()(),i(9,"div",8)(10,"div",9)(11,"i",10),s(12,"search"),n(),i(13,"input",11),c(14,"translate"),N("ngModelChange",function(o){_(e);let v=d();return k(v.searchTerm,o)||(v.searchTerm=o),u(o)}),m("input",function(){_(e);let o=d();return u(o.filterObservations())})("keyup.enter",function(){_(e);let o=d();return u(o.filterObservations())}),n(),O(15,X,3,0,"button",12),n(),i(16,"app-button",13),c(17,"translate"),m("click",function(){_(e);let o=d();return u(o.toggleFilters())}),n(),i(18,"app-button",14),c(19,"translate"),m("click",function(){_(e);let o=d();return u(o.loadObservations())}),n()()(),O(20,ee,17,15,"div",15)(21,ie,3,2,"div",16)(22,re,13,11,"div",17)(23,ae,33,20,"div",18),n()}if(l&2){let e=d();r(6),b(" ",p(7,12,"OBSERVATION_SUPPLIER.MY_OBSERVATIONS")," "),r(2),g("ngIf",!e.isLoading),r(5),S("placeholder",p(14,14,"OBSERVATION_SUPPLIER.SEARCH_PLACEHOLDER")),y("ngModel",e.searchTerm),r(2),g("ngIf",e.searchTerm),r(),S("label",p(17,16,"COMMON.FILTER")),r(2),S("label",p(19,18,"COMMON.REFRESH")),g("loading",e.isLoading),r(2),g("ngIf",e.showQuickFilters),r(),g("ngIf",e.isLoading),r(),g("ngIf",!e.isLoading&&e.filteredObservations.length===0),r(),g("ngIf",!e.isLoading&&e.filteredObservations.length>0)}}function le(l,t){if(l&1){let e=f();i(0,"div",75)(1,"div",76)(2,"i",21),s(3,"image"),n(),i(4,"h3"),s(5),c(6,"translate"),n()(),i(7,"img",77),c(8,"translate"),m("click",function(){_(e);let o=d(2);return u(o.openImageModal(o.selectedObservation.imageUrl))}),n()()}if(l&2){let e=d(2);r(5),x(p(6,3,"OBSERVATION_SUPPLIER.EVIDENCE_IMAGE")),r(2),S("alt",p(8,5,"OBSERVATION_SUPPLIER.EVIDENCE_IMAGE")),g("src",e.selectedObservation.imageUrl,P)}}function ce(l,t){if(l&1){let e=f();i(0,"div",61)(1,"div",62)(2,"app-button",63),m("click",function(){_(e);let o=d();return u(o.backToTable())}),n(),i(3,"h2")(4,"i",64),s(5,"visibility"),n(),s(6),c(7,"translate"),n()(),i(8,"div",65)(9,"div",66)(10,"div",67)(11,"label")(12,"i",21),s(13,"qr_code"),n(),s(14),c(15,"translate"),n(),i(16,"div",68),s(17),n()(),i(18,"div",69)(19,"label")(20,"i",21),s(21,"note"),n(),s(22),c(23,"translate"),n(),i(24,"div",70),s(25),n()(),i(26,"div",67)(27,"label")(28,"i",21),s(29,"info"),n(),s(30),c(31,"translate"),n(),i(32,"div",68)(33,"span",71)(34,"i",54),s(35),n(),s(36),n()()(),i(37,"div",67)(38,"label")(39,"i",21),s(40,"calendar_today"),n(),s(41),c(42,"translate"),n(),i(43,"div",68),s(44),n()()(),O(45,le,9,7,"div",72),i(46,"div",73)(47,"app-button",74),c(48,"translate"),m("click",function(){_(e);let o=d();return u(o.toggleObservationStatus(o.selectedObservation))}),n()()()()}if(l&2){let e=d();r(6),M(" ",p(7,15,"OBSERVATION_SUPPLIER.OBSERVATION_DETAIL")," ",e.selectedObservation.batchCode," "),r(8),b(" ",p(15,17,"OBSERVATION_SUPPLIER.BATCH_CODE"),": "),r(3),x(e.selectedObservation.batchCode),r(5),b(" ",p(23,19,"OBSERVATION_SUPPLIER.REASON"),": "),r(3),x(e.selectedObservation.reason),r(5),b(" ",p(31,21,"OBSERVATION_SUPPLIER.STATUS"),": "),r(3),g("ngClass",e.getStatusClass(e.selectedObservation.status)),r(2),x(e.getStatusIcon(e.selectedObservation.status)),r(),b(" ",e.getStatusDisplayLabel(e.selectedObservation.status)," "),r(5),b(" ",p(42,23,"OBSERVATION_SUPPLIER.CREATED_DATE"),": "),r(3),x(e.formatDate(e.selectedObservation.createdAt)),r(),g("ngIf",e.selectedObservation.imageUrl),r(2),g("label",p(48,25,e.getToggleButtonLabel(e.selectedObservation.status)))("icon",e.getToggleButtonIcon(e.selectedObservation.status))}}var W=class l{constructor(t,e){this.observationService=t;this.authService=e}view="table";observations=[];filteredObservations=[];selectedObservation=null;currentSupplierId="";searchTerm="";showQuickFilters=!1;statusFilter=null;sortField="createdAt";sortDirection="desc";isLoading=!1;notification={show:!1,message:"",type:"success"};ngOnInit(){let t=this.authService.getCurrentUser();console.log("Usuario actual:",t),t&&t.id?(this.currentSupplierId=t.id,console.log("Supplier ID:",this.currentSupplierId),this.loadObservations()):console.error("No se pudo obtener el usuario actual")}loadObservations(){this.isLoading=!0,this.observationService.getBySupplierId(this.currentSupplierId).subscribe({next:t=>{console.log("Todas las observaciones:",t),console.log("ID de proveedor actual:",this.currentSupplierId),this.observations=t.filter(e=>(console.log("Comparando:",e.supplierId.toString(),"con",this.currentSupplierId),e.supplierId.toString()===this.currentSupplierId)),console.log("Observaciones filtradas:",this.observations),this.filteredObservations=[...this.observations],this.filterObservations(),this.isLoading=!1},error:t=>{console.error("Error al cargar observaciones:",t),this.showNotification("Error al cargar las observaciones","error"),this.isLoading=!1}})}toggleObservationStatus(t){if(console.log("Intentando cambiar estado de:",t),!t.id){console.error("Observaci\xF3n sin ID:",t);return}console.log("Estado actual:",t.status);let e=t.status?.toUpperCase()||"";console.log("Estado normalizado:",e);let a;e==="PENDIENTE"?a="EN_REVISION":e==="EN_REVISION"?a="PENDIENTE":(console.warn("Estado no reconocido:",t.status,"cambiando a EN_REVISION"),a="EN_REVISION"),console.log("Nuevo estado (backend):",a),console.log("Se mostrar\xE1 como:",this.getStatusDisplayLabel(a));let o=E(h({},t),{status:a});console.log("Enviando actualizaci\xF3n:",o),this.observationService.update(t.id,o).subscribe({next:v=>{console.log("Respuesta del servidor:",v);let Z=a==="EN_REVISION"?"marcada como vista":"marcada como pendiente";this.showNotification(`Observaci\xF3n ${Z}`,"success"),this.loadObservations(),this.selectedObservation&&this.selectedObservation.id===t.id&&(this.selectedObservation=E(h({},this.selectedObservation),{status:a}))},error:v=>{console.error("Error completo:",v),this.showNotification("Error al actualizar el estado","error")}})}clearSearch(){this.searchTerm="",this.filterObservations()}toggleFilters(){this.showQuickFilters=!this.showQuickFilters}setStatusFilter(t){this.statusFilter=t,this.filterObservations()}filterObservations(){let t=[...this.observations];if(this.searchTerm&&this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();t=t.filter(a=>a.batchCode&&a.batchCode.toLowerCase().includes(e)||a.reason&&a.reason.toLowerCase().includes(e)||a.status&&a.status.toLowerCase().includes(e))}this.statusFilter&&(t=t.filter(e=>e.status===this.statusFilter)),t=this.sortObservations(t),this.filteredObservations=t}sortBy(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.filterObservations()}sortObservations(t){return t.sort((e,a)=>{let o,v;switch(this.sortField){case"batchCode":o=e.batchCode||"",v=a.batchCode||"";break;case"status":o=e.status||"",v=a.status||"";break;case"createdAt":o=new Date(e.createdAt),v=new Date(a.createdAt);break;default:return 0}return o<v?this.sortDirection==="asc"?-1:1:o>v?this.sortDirection==="asc"?1:-1:0})}trackByObservationId(t,e){return e.id||t.toString()}isRecentObservation(t){let e=new Date(t.createdAt);return Math.floor((new Date().getTime()-e.getTime())/(1e3*60*60))<24}viewObservationDetails(t){this.selectedObservation=t,this.view="detail"}backToTable(){this.view="table",this.selectedObservation=null}showNotification(t,e){this.notification={show:!0,message:t,type:e}}formatDate(t){return new Date(t).toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}getToggleButtonLabel(t){let e=t?.toUpperCase()||"";return e==="PENDIENTE"?"OBSERVATION_SUPPLIER.MARK_AS_SEEN":e==="EN_REVISION"?"OBSERVATION_SUPPLIER.MARK_AS_PENDING":"OBSERVATION_SUPPLIER.MARK_AS_SEEN"}getToggleButtonIcon(t){let e=t?.toUpperCase()||"";return e==="PENDIENTE"?"visibility":e==="EN_REVISION"?"schedule":"visibility"}getStatusDisplayLabel(t){switch(t?.toUpperCase()||""){case"PENDIENTE":return"Pendiente";case"EN_REVISION":return"Visto";case"RESUELTA":return"Resuelta";case"RECHAZADA":return"Rechazada";default:return t}}getStatusClass(t){switch(t?.toUpperCase()||""){case"EN_REVISION":return"status-seen";case"PENDIENTE":return"status-pending";case"RESUELTA":return"status-resolved";case"RECHAZADA":return"status-rejected";default:return""}}getStatusIcon(t){switch(t?.toUpperCase()||""){case"EN_REVISION":return"visibility";case"PENDIENTE":return"schedule";case"RESUELTA":return"check_circle";case"RECHAZADA":return"cancel";default:return"help"}}openImageModal(t){window.open(t,"_blank")}OBSERVATION_STATUS=Y;static \u0275fac=function(e){return new(e||l)(I(Q),I(G))};static \u0275cmp=w({type:l,selectors:[["app-supplier-observation"]],decls:4,vars:6,consts:[[1,"observation-container"],[4,"ngIf"],["class","detail-view",4,"ngIf"],[3,"close","show","message","type","autoClose"],[1,"table-header"],[1,"header-left"],[1,"material-icons","header-icon"],["class","observation-count",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"material-icons","search-icon"],["type","text",1,"search-input",3,"ngModelChange","input","keyup.enter","placeholder","ngModel"],["class","clear-search",3,"click",4,"ngIf"],["variant","secondary","icon","tune",3,"click","label"],["variant","text","icon","refresh",3,"click","label","loading"],["class","quick-filters",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table-wrapper",4,"ngIf"],[1,"observation-count"],[1,"clear-search",3,"click"],[1,"material-icons"],[1,"quick-filters"],[1,"filter-chips"],[1,"filter-chip",3,"click"],[1,"status-dot","status-pending"],[1,"status-dot","status-seen"],[1,"loading-state"],[1,"skeleton-table"],["class","skeleton-row",4,"ngFor","ngForOf"],[1,"skeleton-row"],[1,"skeleton-cell"],[1,"empty-state"],[1,"empty-icon"],["variant","primary",3,"label","click",4,"ngIf"],["variant","primary",3,"click","label"],[1,"table-wrapper"],[1,"observation-table"],[1,"sortable",3,"click"],[1,"th-content"],[1,"material-icons","sort-icon"],[1,"sortable","clickable-status",3,"click"],[1,"status-hint"],[1,"actions-column"],["class","clickable-row",3,"recent",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clickable-row"],[1,"code-cell"],[1,"batch-code"],[1,"material-icons","batch-icon"],[1,"reason-cell"],[1,"reason-text"],[1,"status-cell",3,"click","title"],[1,"status-container","clickable-status"],[1,"status-badge","clickable",3,"ngClass"],[1,"material-icons","status-icon"],[1,"material-icons","toggle-icon"],[1,"date-cell"],[1,"date-text"],[1,"actions-cell",3,"click"],[1,"action-buttons"],[1,"action-btn","view-btn",3,"click","title"],[1,"detail-view"],[1,"detail-header"],["label","","icon","arrow_back","variant","back",3,"click"],[1,"material-icons","detail-icon"],[1,"detail-content"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-value"],[1,"detail-item","full-width"],[1,"detail-value","reason-detail"],[1,"status-badge","large",3,"ngClass"],["class","evidence-image-container",4,"ngIf"],[1,"action-buttons-detail"],["variant","primary",3,"click","label","icon"],[1,"evidence-image-container"],[1,"image-header"],[1,"evidence-image",3,"click","src","alt"]],template:function(e,a){e&1&&(i(0,"div",0),O(1,se,24,20,"div",1)(2,ce,49,27,"div",2),i(3,"app-notification",3),m("close",function(){return a.notification.show=!1}),n()()),e&2&&(r(),g("ngIf",a.view==="table"),r(),g("ngIf",a.view==="detail"&&a.selectedObservation),r(),g("show",a.notification.show)("message",a.notification.message)("type",a.notification.type)("autoClose",!0))},dependencies:[L,R,V,B,j,z,F,H,q,K,U,D],styles:[".observation-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:1.5rem;font-weight:600;color:var(--text-primary)}.header-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.8rem}.observation-count[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:400;font-size:1rem}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:var(--text-secondary);font-size:1.2rem;z-index:1}.search-input[_ngcontent-%COMP%]{padding:10px 12px 10px 40px;border:1px solid var(--border-color);border-radius:8px;font-size:.9rem;min-width:250px;transition:all .2s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3b82f61a}.clear-search[_ngcontent-%COMP%]{position:absolute;right:8px;background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.clear-search[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary)}.quick-filters[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:var(--surface);border-radius:12px;border:1px solid var(--border-color)}.filter-chips[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.filter-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--border-color);background:var(--background);border-radius:20px;font-size:.85rem;cursor:pointer;transition:all .2s ease;color:var(--text-secondary)}.filter-chip[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--primary-color)}.filter-chip.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.status-dot[_ngcontent-%COMP%]{font-size:.8rem}.status-pending[_ngcontent-%COMP%]{color:#f59e0b}.status-seen[_ngcontent-%COMP%]{color:#10b981}.loading-state[_ngcontent-%COMP%]{margin:40px 0}.skeleton-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.skeleton-row[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;background:var(--surface);border-radius:8px}.skeleton-cell[_ngcontent-%COMP%]{height:20px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px;flex:1}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-icon[_ngcontent-%COMP%]{margin-bottom:16px}.empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:var(--text-muted)}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;color:var(--text-primary)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:.9rem}.table-wrapper[_ngcontent-%COMP%]{background:var(--surface);border-radius:12px;overflow:hidden;box-shadow:0 1px 3px #0000001a;border:1px solid var(--border-color)}.observation-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.observation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--surface-secondary);padding:16px;text-align:left;font-weight:600;color:var(--text-primary);border-bottom:1px solid var(--border-color);font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.observation-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background .2s ease}.observation-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background:var(--hover-bg)}.th-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.sort-icon[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-muted)}.status-hint[_ngcontent-%COMP%]{display:block;font-size:.7rem;font-weight:400;color:var(--text-muted);text-transform:none;margin-top:2px}.observation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--border-light);vertical-align:middle}.clickable-row[_ngcontent-%COMP%]{transition:background .2s ease}.clickable-row[_ngcontent-%COMP%]:hover{background:var(--hover-bg)}.clickable-row.recent[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);background:#3b82f605}.code-cell[_ngcontent-%COMP%]{font-weight:500}.batch-code[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.batch-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.1rem}.reason-cell[_ngcontent-%COMP%]{max-width:300px}.reason-text[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-height:1.4;color:var(--text-secondary)}.status-cell[_ngcontent-%COMP%]{cursor:pointer}.status-container.clickable-status[_ngcontent-%COMP%]{position:relative;transition:transform .2s ease}.status-container.clickable-status[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:.8rem;font-weight:500;transition:all .2s ease}.status-badge.clickable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.status-badge.clickable[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.status-badge.large[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.status-badge.status-pending[_ngcontent-%COMP%]{background:#f59e0b1a;color:#d97706;border:1px solid rgba(245,158,11,.3)}.status-badge.status-seen[_ngcontent-%COMP%]{background:#10b9811a;color:#059669;border:1px solid rgba(16,185,129,.3)}.status-icon[_ngcontent-%COMP%]{font-size:1rem}.toggle-icon[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-muted);opacity:0;transition:opacity .2s ease}.status-badge.clickable[_ngcontent-%COMP%]:hover   .toggle-icon[_ngcontent-%COMP%]{opacity:1}.date-cell[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.actions-cell[_ngcontent-%COMP%]{width:80px;text-align:center}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;justify-content:center}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;background:transparent}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.view-btn[_ngcontent-%COMP%]{color:var(--primary-color)}.view-btn[_ngcontent-%COMP%]:hover{background:#3b82f61a}.detail-view[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid var(--border-color)}.detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:1.4rem;font-weight:600;color:var(--text-primary)}.detail-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.6rem}.detail-content[_ngcontent-%COMP%]{background:var(--surface);border-radius:12px;padding:24px;border:1px solid var(--border-color)}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-bottom:32px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--text-primary);font-size:.9rem}.detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.1rem}.detail-value[_ngcontent-%COMP%]{padding:12px;background:var(--background);border-radius:8px;border:1px solid var(--border-light);font-size:.9rem;color:var(--text-secondary);line-height:1.5}.detail-value.reason-detail[_ngcontent-%COMP%]{min-height:60px;white-space:pre-wrap}.evidence-image-container[_ngcontent-%COMP%]{margin:32px 0;text-align:center}.image-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;margin-bottom:16px}.image-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.2rem}.image-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:var(--text-primary)}.evidence-image[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:12px;cursor:pointer;transition:transform .2s ease;border:1px solid var(--border-color)}.evidence-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.action-buttons-detail[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:32px;padding-top:24px;border-top:1px solid var(--border-color)}@media (max-width: 768px){.observation-container[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-container[_ngcontent-%COMP%]{justify-content:center}.search-input[_ngcontent-%COMP%]{min-width:200px}.observation-table[_ngcontent-%COMP%]{font-size:.85rem}.observation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .observation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reason-text[_ngcontent-%COMP%]{-webkit-line-clamp:3}.action-buttons-detail[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 480px){.filter-chips[_ngcontent-%COMP%]{justify-content:center}.filter-chip[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px}.observation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.75rem}.status-hint[_ngcontent-%COMP%]{display:none}}@media (prefers-color-scheme: dark){.skeleton-cell[_ngcontent-%COMP%]{background:linear-gradient(90deg,#374151 25%,#4b5563,#374151 75%);background-size:200% 100%}}.status-badge.status-resolved[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a;border:1px solid rgba(34,197,94,.3)}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.3)}"]})};export{W as SupplierObservationComponent};
