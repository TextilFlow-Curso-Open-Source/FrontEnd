import{a as ae,b as B,c as oe}from"./chunk-7E74X2WU.js";import{a as le}from"./chunk-QNLV2IS2.js";import{a as pe}from"./chunk-QJN4MAFU.js";import{f as re}from"./chunk-7B7PG3YE.js";import{R as ne,c as K,g as X,j as Z,p as J}from"./chunk-XXRYAUWQ.js";import{b as te}from"./chunk-L5EZL6XB.js";import"./chunk-XZSHE36Q.js";import{C as G,x as Y,z as H}from"./chunk-S4BAPOHJ.js";import{c as F,d as z,e as q,i as Q,k as j,w as ie}from"./chunk-Z3ABZYYA.js";import{i as $,j as ee}from"./chunk-GNQ3TXIC.js";import{$b as p,Fb as r,Gb as i,Hb as M,Lb as A,Pb as v,Qb as m,Tb as x,Ya as O,Z as k,_a as n,a as U,ac as h,b as V,bc as P,cc as W,db as D,ec as f,fc as S,gc as w,kb as N,kc as E,la as _,lc as d,ma as g,mc as c,nc as L,pb as C,wb as u,yb as b}from"./chunk-LJ6G2VOH.js";var ue=$.supplierReviewEndpointPath,T=class s extends ee{constructor(){super(),this.resourceEndpoint=ue}addReview(o,e,a,t,l){let R={supplierId:o,businessmanId:e,rating:a,comment:t,businessmanName:l,createdAt:new Date().toISOString()};return this.create(R)}getReviewsForSupplier(o,e){this.http.get(`${this.serverBaseUrl}${this.resourceEndpoint}?supplierId=${o}`).subscribe({next:a=>{e(a)},error:a=>{console.error("Error al obtener rese\xF1as:",a),e([])}})}calculateAverageRating(o,e){this.getReviewsForSupplier(o,a=>{if(!a||a.length===0){e(0,0);return}let l=a.reduce((R,y)=>R+y.rating,0)/a.length;e(l,a.length)})}hasBusinessmanReviewed(o,e,a){this.http.get(`${this.serverBaseUrl}${this.resourceEndpoint}?supplierId=${o}&businessmanId=${e}`).subscribe({next:t=>{a(t&&t.length>0)},error:t=>{console.error("Error al verificar rese\xF1as:",t),a(!1)}})}updateReview(o,e,a){return{subscribe:t=>{this.http.get(`${this.serverBaseUrl}${this.resourceEndpoint}/${o}`).subscribe({next:l=>{let R=V(U({},l),{rating:e,comment:a});this.update(o,R).subscribe(t)},error:l=>{t.error&&t.error(l)}})}}}static \u0275fac=function(e){return new(e||s)};static \u0275prov=k({token:s,factory:s.\u0275fac,providedIn:"root"})};var I=s=>({filled:s});function _e(s,o){if(s&1){let e=A();r(0,"button",15),v("click",function(){_(e);let t=m();return g(t.clearSearch())}),r(1,"i",16),p(2,"close"),i()()}}function ge(s,o){s&1&&(r(0,"div",17),p(1),d(2,"translate"),i()),s&2&&(n(),P(" ",c(2,1,"ADD_SUPPLIER.LOADING")," "))}function he(s,o){s&1&&(r(0,"p"),p(1),d(2,"translate"),i()),s&2&&(n(),h(c(2,1,"ADD_SUPPLIER.NO_SUPPLIERS")))}function ve(s,o){s&1&&(r(0,"p"),p(1),d(2,"translate"),i()),s&2&&(n(),h(c(2,1,"ADD_SUPPLIER.NO_AVAILABLE_SUPPLIERS")))}function xe(s,o){s&1&&(r(0,"p"),p(1),d(2,"translate"),i()),s&2&&(n(),h(c(2,1,"ADD_SUPPLIER.NO_SEARCH_RESULTS")))}function fe(s,o){if(s&1&&(r(0,"div",18),C(1,he,3,3,"p",19)(2,ve,3,3,"p",19)(3,xe,3,3,"p",19),i()),s&2){let e=m();n(),u("ngIf",e.activeTab==="current"),n(),u("ngIf",e.activeTab==="add"),n(),u("ngIf",e.searchTerm.trim())}}function Se(s,o){s&1&&(r(0,"div",32)(1,"span",33),p(2,"\u2606"),i(),r(3,"span",33),p(4,"\u2606"),i(),r(5,"span",33),p(6,"\u2606"),i(),r(7,"span",33),p(8,"\u2606"),i(),r(9,"span",33),p(10,"\u2606"),i(),r(11,"span",34),p(12,"(Sin calificaciones)"),i()())}function we(s,o){if(s&1&&(r(0,"div",32)(1,"span",35),p(2,"\u2605"),i(),r(3,"span",35),p(4,"\u2605"),i(),r(5,"span",35),p(6,"\u2605"),i(),r(7,"span",35),p(8,"\u2605"),i(),r(9,"span",35),p(10,"\u2605"),i()()),s&2){let e=m().$implicit;n(),u("ngClass",E(5,I,e.averageRating>=1)),n(2),u("ngClass",E(7,I,e.averageRating>=2)),n(2),u("ngClass",E(9,I,e.averageRating>=3)),n(2),u("ngClass",E(11,I,e.averageRating>=4)),n(2),u("ngClass",E(13,I,e.averageRating>=5))}}function Ce(s,o){if(s&1){let e=A();r(0,"app-button",43),d(1,"translate"),v("click",function(){_(e);let t=m(2).$implicit,l=m(2);return g(l.openReviewForm(t.id))}),i()}s&2&&x("label",c(1,1,"ADD_SUPPLIER.ADD_REVIEW"))}function Ee(s,o){if(s&1){let e=A();r(0,"app-button",55),d(1,"translate"),v("click",function(){_(e);let t=m().$implicit,l=m(5);return g(l.editReview(t))}),i()}s&2&&x("label",c(1,1,"ADD_SUPPLIER.EDIT_REVIEW"))}function Re(s,o){if(s&1&&(r(0,"div",46)(1,"div",47),M(2,"img",48),r(3,"div",49)(4,"div",50),p(5),d(6,"translate"),i(),r(7,"div",51)(8,"span",35),p(9,"\u2605"),i(),r(10,"span",35),p(11,"\u2605"),i(),r(12,"span",35),p(13,"\u2605"),i(),r(14,"span",35),p(15,"\u2605"),i(),r(16,"span",35),p(17,"\u2605"),i()(),r(18,"div",52),p(19),d(20,"date"),i()(),C(21,Ee,2,3,"app-button",53),i(),r(22,"p",54),p(23),d(24,"translate"),i()()),s&2){let e=o.$implicit;n(2),u("src","assets/default-avatar.png",O),n(3),h(e.businessmanName||c(6,10,"COMMON.USER")),n(3),u("ngClass",E(17,I,(e.rating||0)>=1)),n(2),u("ngClass",E(19,I,(e.rating||0)>=2)),n(2),u("ngClass",E(21,I,(e.rating||0)>=3)),n(2),u("ngClass",E(23,I,(e.rating||0)>=4)),n(2),u("ngClass",E(25,I,(e.rating||0)>=5)),n(3),h(L(20,12,e.createdAt,"dd/MM/yy")),n(2),u("ngIf",e.canEdit),n(2),h(e.comment||c(24,15,"ADD_SUPPLIER.NO_COMMENTS"))}}function be(s,o){if(s&1&&(r(0,"div",44),C(1,Re,25,27,"div",45),i()),s&2){let e=m(4);n(),u("ngForOf",e.reviews)}}function Pe(s,o){s&1&&(r(0,"div",56),p(1),d(2,"translate"),i()),s&2&&(n(),P(" ",c(2,1,"ADD_SUPPLIER.NO_REVIEWS")," "))}function Ie(s,o){if(s&1&&(r(0,"div",36)(1,"div",37)(2,"h4"),p(3),d(4,"translate"),i(),r(5,"p")(6,"strong"),p(7),d(8,"translate"),i(),p(9),d(10,"translate"),i(),r(11,"p")(12,"strong"),p(13),d(14,"translate"),i(),p(15),d(16,"translate"),i(),r(17,"p")(18,"strong"),p(19),d(20,"translate"),i(),p(21),d(22,"translate"),i(),r(23,"p")(24,"strong"),p(25),d(26,"translate"),i(),p(27),d(28,"translate"),i()(),r(29,"div",38)(30,"div",39)(31,"h4"),p(32),d(33,"translate"),i(),C(34,Ce,2,3,"app-button",40),i(),C(35,be,2,1,"div",41)(36,Pe,3,3,"div",42),i()()),s&2){let e=m().$implicit,a=m(2);n(3),h(c(4,14,"ADD_SUPPLIER.SUPPLIER_INFO")),n(4),P("",c(8,16,"ADD_SUPPLIER.SPECIALIZATION"),":"),n(2),P(" ",e.specialization||(e.profile==null?null:e.profile.specialization)||c(10,18,"ADD_SUPPLIER.NO_SPECIFIED"),""),n(4),P("",c(14,20,"ADD_SUPPLIER.CATEGORIES"),":"),n(2),P(" ",(e.productCategories==null?null:e.productCategories.join(", "))||(e.profile==null||e.profile.productCategories==null?null:e.profile.productCategories.join(", "))||c(16,22,"ADD_SUPPLIER.NO_SPECIFIED"),""),n(4),P("",c(20,24,"ADD_SUPPLIER.LOCATION"),":"),n(2),P(" ",e.warehouseLocation||(e.profile==null?null:e.profile.warehouseLocation)||c(22,26,"ADD_SUPPLIER.NO_SPECIFIED"),""),n(4),P("",c(26,28,"ADD_SUPPLIER.MIN_ORDER"),":"),n(2),P(" ",e.minimumOrderQuantity||(e.profile==null?null:e.profile.minimumOrderQuantity)||c(28,30,"ADD_SUPPLIER.NO_SPECIFIED"),""),n(5),W("",c(33,32,"ADD_SUPPLIER.REVIEWS")," (",e.totalReviews||0,")"),n(2),u("ngIf",a.canAddReview),n(),u("ngIf",a.reviews.length>0),n(),u("ngIf",a.reviews.length===0)}}function ye(s,o){if(s&1){let e=A();r(0,"div",22)(1,"div",23),v("click",function(){let t=_(e).$implicit,l=m(2);return g(l.toggleSupplierExpansion(t.id))}),r(2,"h3",24),p(3),d(4,"translate"),i(),M(5,"div",25),i(),r(6,"div",26)(7,"div",27),M(8,"img",28),r(9,"span"),p(10),i()(),C(11,Se,13,0,"div",29)(12,we,11,15,"div",29),r(13,"app-button",30),d(14,"translate"),v("click",function(){let t=_(e).$implicit,l=m(2);return g(l.showBatchFormFor(t))}),i()(),C(15,Ie,37,34,"div",31),i()}if(s&2){let e=o.$implicit,a=m(2);n(3),h(e.companyName||(e.profile==null?null:e.profile.companyName)||c(4,10,"ADD_SUPPLIER.NO_COMPANY_NAME")),n(2),b("expanded",a.expandedSupplierId===e.id),n(3),u("src",(e.profile==null?null:e.profile.logo)||"assets/default-avatar.png",O),n(2),h(e.email),n(),u("ngIf",!e.averageRating||e.averageRating===0),n(),u("ngIf",e.averageRating&&e.averageRating>0),n(),x("label",c(14,12,"ADD_SUPPLIER.ORDER_BATCH")),u("fullWidth",!1),n(2),u("ngIf",a.expandedSupplierId===e.id)}}function Ae(s,o){if(s&1&&(r(0,"div",20),C(1,ye,16,14,"div",21),i()),s&2){let e=m();n(),u("ngForOf",e.filteredSuppliers)}}function De(s,o){s&1&&(r(0,"div",32)(1,"span",33),p(2,"\u2606"),i(),r(3,"span",33),p(4,"\u2606"),i(),r(5,"span",33),p(6,"\u2606"),i(),r(7,"span",33),p(8,"\u2606"),i(),r(9,"span",33),p(10,"\u2606"),i(),r(11,"span",34),p(12,"(Sin calificaciones)"),i()())}function Me(s,o){if(s&1&&(r(0,"div",32)(1,"span",35),p(2,"\u2605"),i(),r(3,"span",35),p(4,"\u2605"),i(),r(5,"span",35),p(6,"\u2605"),i(),r(7,"span",35),p(8,"\u2605"),i(),r(9,"span",35),p(10,"\u2605"),i()()),s&2){let e=m().$implicit;n(),u("ngClass",E(5,I,e.averageRating>=1)),n(2),u("ngClass",E(7,I,e.averageRating>=2)),n(2),u("ngClass",E(9,I,e.averageRating>=3)),n(2),u("ngClass",E(11,I,e.averageRating>=4)),n(2),u("ngClass",E(13,I,e.averageRating>=5))}}function Oe(s,o){if(s&1&&(r(0,"div",46)(1,"div",47),M(2,"img",48),r(3,"div",49)(4,"div",50),p(5),d(6,"translate"),i(),r(7,"div",51)(8,"span",63),p(9,"\u2605"),i(),r(10,"span",63),p(11,"\u2605"),i(),r(12,"span",63),p(13,"\u2605"),i(),r(14,"span",63),p(15,"\u2605"),i(),r(16,"span",63),p(17,"\u2605"),i()(),r(18,"div",52),p(19),d(20,"date"),i()()(),r(21,"p",54),p(22),d(23,"translate"),i()()),s&2){let e=o.$implicit;n(2),u("src","assets/default-avatar.png",O),n(3),h(e.businessmanName||c(6,14,"COMMON.USER")),n(3),b("filled",(e.rating||0)>=1),n(2),b("filled",(e.rating||0)>=2),n(2),b("filled",(e.rating||0)>=3),n(2),b("filled",(e.rating||0)>=4),n(2),b("filled",(e.rating||0)>=5),n(3),h(L(20,16,e.createdAt,"dd/MM/yy")),n(3),h(e.comment||c(23,19,"ADD_SUPPLIER.NO_COMMENTS"))}}function Te(s,o){if(s&1&&(r(0,"div",44),C(1,Oe,24,21,"div",45),i()),s&2){let e=m(4);n(),u("ngForOf",e.reviews)}}function Le(s,o){s&1&&(r(0,"div",56),p(1),d(2,"translate"),i()),s&2&&(n(),P(" ",c(2,1,"ADD_SUPPLIER.NO_REVIEWS")," "))}function Be(s,o){if(s&1&&(r(0,"div",38),C(1,Te,2,1,"div",41)(2,Le,3,3,"div",42),i()),s&2){let e=m(3);n(),u("ngIf",e.reviews.length>0),n(),u("ngIf",e.reviews.length===0)}}function Ue(s,o){if(s&1){let e=A();r(0,"div",59)(1,"div",23),v("click",function(){let t=_(e).$implicit,l=m(2);return g(l.selectSupplier(t.id))}),r(2,"h3",60),p(3),d(4,"translate"),i(),M(5,"div",25),i(),r(6,"div",26)(7,"div",27),M(8,"img",28),r(9,"span"),p(10),i()(),C(11,De,13,0,"div",29)(12,Me,11,15,"div",29),r(13,"app-button",61),d(14,"translate"),v("click",function(){let t=_(e).$implicit,l=m(2);return g(l.showRequestFormFor(t))}),i()(),C(15,Be,3,2,"div",62),i()}if(s&2){let e=o.$implicit,a=m(2);n(3),h(e.companyName||(e.profile==null?null:e.profile.companyName)||c(4,9,"ADD_SUPPLIER.NO_COMPANY_NAME")),n(2),b("expanded",a.selectedSupplierId===e.id),n(3),u("src",(e.profile==null?null:e.profile.logo)||"assets/default-avatar.png",O),n(2),h(e.email),n(),u("ngIf",!e.averageRating||e.averageRating===0),n(),u("ngIf",e.averageRating&&e.averageRating>0),n(),x("label",c(14,11,"ADD_SUPPLIER.SEND_REQUEST")),n(2),u("ngIf",a.selectedSupplierId===e.id)}}function Ve(s,o){if(s&1&&(r(0,"div",57),C(1,Ue,16,13,"div",58),i()),s&2){let e=m();n(),u("ngForOf",e.filteredSuppliers)}}function ke(s,o){if(s&1){let e=A();r(0,"div",64)(1,"div",65),v("click",function(){_(e);let t=m();return g(t.cancelRequest())}),i(),r(2,"div",66)(3,"button",67),v("click",function(){_(e);let t=m();return g(t.cancelRequest())}),p(4,"\xD7"),i(),r(5,"div",68)(6,"h3"),p(7),d(8,"translate"),i(),r(9,"div",69)(10,"label"),p(11),d(12,"translate"),i(),r(13,"app-input",70),d(14,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.batchType,t)||(l.batchType=t),g(t)}),i()(),r(15,"div",69)(16,"label"),p(17),d(18,"translate"),i(),r(19,"app-input",71),d(20,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.batchColor,t)||(l.batchColor=t),g(t)}),i()(),r(21,"div",69)(22,"label"),p(23),d(24,"translate"),i(),r(25,"app-input",72),d(26,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.quantity,t)||(l.quantity=t),g(t)}),i()(),r(27,"div",69)(28,"label"),p(29),d(30,"translate"),i(),r(31,"app-input",71),d(32,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.address,t)||(l.address=t),g(t)}),i()(),r(33,"div",69)(34,"label"),p(35),d(36,"translate"),i(),r(37,"app-input",70),d(38,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.requestMessage,t)||(l.requestMessage=t),g(t)}),i()(),r(39,"app-button",73),d(40,"translate"),v("click",function(){_(e);let t=m();return g(t.sendRequest())}),i()()()()}if(s&2){let e=m();n(7),h(c(8,24,"ADD_SUPPLIER.REQUEST_FORM_TITLE")),n(4),h(c(12,26,"ADD_SUPPLIER.BATCH_TYPE")),n(2),x("placeholder",c(14,28,"ADD_SUPPLIER.ENTER_FABRIC_TYPE")),f("ngModel",e.batchType),u("fullWidth",!0),n(4),h(c(18,30,"ADD_SUPPLIER.BATCH_COLOR")),n(2),x("placeholder",c(20,32,"ADD_SUPPLIER.CHOOSE_COLOR")),f("ngModel",e.batchColor),u("fullWidth",!0),n(4),h(c(24,34,"ADD_SUPPLIER.QUANTITY")),n(2),x("placeholder",c(26,36,"ADD_SUPPLIER.ENTER_QUANTITY")),f("ngModel",e.quantity),u("fullWidth",!0),n(4),h(c(30,38,"ADD_SUPPLIER.ADDRESS")),n(2),x("placeholder",c(32,40,"ADD_SUPPLIER.ENTER_ADDRESS")),f("ngModel",e.address),u("fullWidth",!0),n(4),h(c(36,42,"ADD_SUPPLIER.COMMENT")),n(2),x("placeholder",c(38,44,"ADD_SUPPLIER.ADDITIONAL_COMMENT")),f("ngModel",e.requestMessage),u("fullWidth",!0),n(2),x("label",c(40,46,"ADD_SUPPLIER.CONFIRM")),u("loading",e.isLoading)("fullWidth",!0)}}function Ne(s,o){if(s&1){let e=A();r(0,"div",64)(1,"div",65),v("click",function(){_(e);let t=m();return g(t.cancelBatch())}),i(),r(2,"div",66)(3,"button",67),v("click",function(){_(e);let t=m();return g(t.cancelBatch())}),p(4,"\xD7"),i(),r(5,"div",74)(6,"h2"),p(7),d(8,"translate"),i(),r(9,"div",69)(10,"label"),p(11),d(12,"translate"),i(),r(13,"app-input",71),d(14,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.code,t)||(l.newBatch.code=t),g(t)}),i()(),r(15,"div",69)(16,"label"),p(17),d(18,"translate"),i(),r(19,"app-input",71),d(20,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.client,t)||(l.newBatch.client=t),g(t)}),i()(),r(21,"div",69)(22,"label"),p(23),d(24,"translate"),i(),r(25,"app-input",71),d(26,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.fabricType,t)||(l.newBatch.fabricType=t),g(t)}),i()(),r(27,"div",69)(28,"label"),p(29),d(30,"translate"),i(),r(31,"app-input",71),d(32,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.color,t)||(l.newBatch.color=t),g(t)}),i()(),r(33,"div",75)(34,"div",76)(35,"label"),p(36),d(37,"translate"),i(),r(38,"app-input",72),d(39,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.quantity,t)||(l.newBatch.quantity=t),g(t)}),i()(),r(40,"div",76)(41,"label"),p(42),d(43,"translate"),i(),r(44,"app-input",72),d(45,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.price,t)||(l.newBatch.price=t),g(t)}),i()()(),r(46,"div",69)(47,"label"),p(48),d(49,"translate"),i(),r(50,"app-input",71),d(51,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.address,t)||(l.newBatch.address=t),g(t)}),i()(),r(52,"div",69)(53,"label"),p(54),d(55,"translate"),i(),r(56,"app-input",77),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.date,t)||(l.newBatch.date=t),g(t)}),i()(),r(57,"div",69)(58,"label"),p(59),d(60,"translate"),i(),r(61,"app-input",70),d(62,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newBatch.observations,t)||(l.newBatch.observations=t),g(t)}),i()(),r(63,"app-button",73),d(64,"translate"),v("click",function(){_(e);let t=m();return g(t.createBatch())}),i()()()()}if(s&2){let e=m();n(7),h(c(8,39,"ADD_SUPPLIER.CREATE_NEW_BATCH")),n(4),h(c(12,41,"ADD_SUPPLIER.BATCH_CODE")),n(2),x("placeholder",c(14,43,"ADD_SUPPLIER.BATCH_CODE")),f("ngModel",e.newBatch.code),u("fullWidth",!0),n(4),h(c(18,45,"ADD_SUPPLIER.CLIENT")),n(2),x("placeholder",c(20,47,"ADD_SUPPLIER.CLIENT")),f("ngModel",e.newBatch.client),u("fullWidth",!0),n(4),h(c(24,49,"ADD_SUPPLIER.FABRIC_TYPE")),n(2),x("placeholder",c(26,51,"ADD_SUPPLIER.FABRIC_TYPE")),f("ngModel",e.newBatch.fabricType),u("fullWidth",!0),n(4),h(c(30,53,"ADD_SUPPLIER.COLOR")),n(2),x("placeholder",c(32,55,"ADD_SUPPLIER.COLOR")),f("ngModel",e.newBatch.color),u("fullWidth",!0),n(5),h(c(37,57,"ADD_SUPPLIER.QUANTITY")),n(2),x("placeholder",c(39,59,"ADD_SUPPLIER.QUANTITY")),f("ngModel",e.newBatch.quantity),u("fullWidth",!0),n(4),h(c(43,61,"ADD_SUPPLIER.PRICE")),n(2),x("placeholder",c(45,63,"ADD_SUPPLIER.PRICE")),f("ngModel",e.newBatch.price),u("fullWidth",!0),n(4),h(c(49,65,"ADD_SUPPLIER.ADDRESS")),n(2),x("placeholder",c(51,67,"ADD_SUPPLIER.ADDRESS")),f("ngModel",e.newBatch.address),u("fullWidth",!0),n(4),h(c(55,69,"ADD_SUPPLIER.DATE")),n(2),f("ngModel",e.newBatch.date),u("fullWidth",!0),n(3),h(c(60,71,"ADD_SUPPLIER.OBSERVATIONS")),n(2),x("placeholder",c(62,73,"ADD_SUPPLIER.OBSERVATIONS")),f("ngModel",e.newBatch.observations),u("fullWidth",!0),n(2),x("label",c(64,75,"ADD_SUPPLIER.CREATE_BATCH")),u("loading",e.isLoading)("fullWidth",!0)}}function We(s,o){if(s&1){let e=A();r(0,"div",64)(1,"div",65),v("click",function(){_(e);let t=m();return g(t.closeReviewForm())}),i(),r(2,"div",78)(3,"button",67),v("click",function(){_(e);let t=m();return g(t.closeReviewForm())}),p(4,"\xD7"),i(),r(5,"div",79)(6,"h2"),p(7),d(8,"translate"),i(),r(9,"div",69)(10,"label"),p(11),d(12,"translate"),i(),r(13,"div",80)(14,"div",81)(15,"span",82),v("click",function(){_(e);let t=m();return g(t.setRating(1))})("mouseenter",function(){_(e);let t=m();return g(t.hoverRating(1))})("mouseleave",function(){_(e);let t=m();return g(t.hoverRating(0))}),p(16,"\u2605"),i(),r(17,"span",82),v("click",function(){_(e);let t=m();return g(t.setRating(2))})("mouseenter",function(){_(e);let t=m();return g(t.hoverRating(2))})("mouseleave",function(){_(e);let t=m();return g(t.hoverRating(0))}),p(18,"\u2605"),i(),r(19,"span",82),v("click",function(){_(e);let t=m();return g(t.setRating(3))})("mouseenter",function(){_(e);let t=m();return g(t.hoverRating(3))})("mouseleave",function(){_(e);let t=m();return g(t.hoverRating(0))}),p(20,"\u2605"),i(),r(21,"span",82),v("click",function(){_(e);let t=m();return g(t.setRating(4))})("mouseenter",function(){_(e);let t=m();return g(t.hoverRating(4))})("mouseleave",function(){_(e);let t=m();return g(t.hoverRating(0))}),p(22,"\u2605"),i(),r(23,"span",82),v("click",function(){_(e);let t=m();return g(t.setRating(5))})("mouseenter",function(){_(e);let t=m();return g(t.hoverRating(5))})("mouseleave",function(){_(e);let t=m();return g(t.hoverRating(0))}),p(24,"\u2605"),i()(),r(25,"div",83),p(26),i()()(),r(27,"div",69)(28,"label"),p(29),d(30,"translate"),i(),r(31,"app-input",70),d(32,"translate"),w("ngModelChange",function(t){_(e);let l=m();return S(l.newReview.comment,t)||(l.newReview.comment=t),g(t)}),i()(),r(33,"app-button",73),d(34,"translate"),v("click",function(){_(e);let t=m();return g(t.submitReview())}),i()()()()}if(s&2){let e=m();n(7),h(e.isEditingReview?"ADD_SUPPLIER.EDIT_REVIEW":c(8,30,"ADD_SUPPLIER.ADD_REVIEW")),n(4),h(c(12,32,"ADD_SUPPLIER.RATING")),n(4),b("active",1<=e.newReview.rating)("hover",1<=e.hoverRatingValue&&e.hoverRatingValue>0),n(2),b("active",2<=e.newReview.rating)("hover",2<=e.hoverRatingValue&&e.hoverRatingValue>0),n(2),b("active",3<=e.newReview.rating)("hover",3<=e.hoverRatingValue&&e.hoverRatingValue>0),n(2),b("active",4<=e.newReview.rating)("hover",4<=e.hoverRatingValue&&e.hoverRatingValue>0),n(2),b("active",5<=e.newReview.rating)("hover",5<=e.hoverRatingValue&&e.hoverRatingValue>0),n(3),P(" ",e.newReview.rating,"/5 "),n(3),h(c(30,34,"ADD_SUPPLIER.COMMENT")),n(2),x("placeholder",c(32,36,"ADD_SUPPLIER.WRITE_OPINION")),f("ngModel",e.newReview.comment),u("fullWidth",!0),n(2),x("label",c(34,38,"ADD_SUPPLIER.PUBLISH_REVIEW")),u("loading",e.isLoading)("fullWidth",!0)}}var se=class s{constructor(o,e,a,t,l,R){this.supplierService=o;this.requestService=e;this.reviewService=a;this.batchService=t;this.authService=l;this.translate=R;let y=this.authService.getCurrentUser();y&&y.id?(this.currentUserId=y.id,this.currentUserName=y.name||"Usuario",this.newBatch.businessmanId=this.currentUserId):(console.error("No hay usuario autenticado o falta ID"),this.authService.logout())}activeTab="current";searchTerm="";suppliers=[];filteredSuppliers=[];isLoading=!1;selectedSupplierId=null;currentUserId="";currentUserName="";isBatchSubmitting=!1;showRequestForm=!1;selectedSupplier=null;batchType="";batchColor="";quantity=0;address="";requestMessage="";showBatchForm=!1;newBatch=new oe({code:"",client:"",businessmanId:"",supplierId:"",fabricType:"",color:"",quantity:0,price:0,observations:"",address:"",date:new Date().toISOString().split("T")[0],status:B.POR_ENVIAR,imageUrl:""});reviews=[];showReviewForm=!1;expandedSupplierId=null;newReview={rating:5,comment:""};canAddReview=!1;selectedReviewSupplierId=null;isEditingReview=!1;editingReviewId=null;isSubmitting=!1;hoverRatingValue=0;connectedSuppliers=[];availableSuppliers=[];colors=["Rojo","Azul","Verde","Negro","Blanco","Amarillo","Morado","Naranja","Gris"];notification={show:!1,message:"",type:"success"};ngOnInit(){this.loadData()}setActiveTab(o){this.activeTab=o,this.updateDisplayedSuppliers()}loadData(){this.isLoading=!0,this.requestService.getRequestsByBusinessman(this.currentUserId,o=>{let e=o.filter(a=>a.status==="accepted");this.supplierService.getAllSuppliers().subscribe({next:a=>{this.suppliers=a;let t=this.suppliers.map(l=>new Promise(R=>{l.profile||(l.profile={companyName:l.companyName||this.generateCompanyName(l),specialization:l.specialization,productCategories:l.productCategories,warehouseLocation:l.warehouseLocation,minimumOrderQuantity:l.minimumOrderQuantity,logo:l.logo}),l.averageRating!==void 0&&l.totalReviews!==void 0?R():this.reviewService.calculateAverageRating(l.id,(y,de)=>{l.averageRating=y,l.totalReviews=de,R()})}));Promise.all(t).then(()=>{this.connectedSuppliers=[],this.availableSuppliers=[],e.forEach(l=>{let R=this.suppliers.find(y=>y.id===l.supplierId);R&&(R.request=l,this.connectedSuppliers.push(R))}),this.availableSuppliers=this.suppliers.filter(l=>!this.connectedSuppliers.some(R=>R.id===l.id)),this.updateDisplayedSuppliers(),this.isLoading=!1})},error:a=>{console.error("Error al cargar proveedores:",a),this.isLoading=!1}})})}generateCompanyName(o){if(o.email){let e=o.email.split("@")[0];return`${e.charAt(0).toUpperCase()+e.slice(1)} Company`}return o.name?`${o.name} Enterprise`:"Empresa sin nombre"}updateDisplayedSuppliers(){this.activeTab==="current"?this.filteredSuppliers=[...this.connectedSuppliers]:this.filteredSuppliers=[...this.availableSuppliers],this.searchTerm.trim()&&this.searchSuppliers()}searchSuppliers(){if(!this.searchTerm.trim()){this.updateDisplayedSuppliers();return}this.isLoading=!0;let o=this.activeTab==="current"?this.connectedSuppliers:this.availableSuppliers;this.filteredSuppliers=o.filter(e=>e.email?.toLowerCase().includes(this.searchTerm.toLowerCase())||e.companyName?.toLowerCase().includes(this.searchTerm.toLowerCase())||e.profile?.companyName?.toLowerCase().includes(this.searchTerm.toLowerCase())),this.isLoading=!1,this.filteredSuppliers.length===0&&this.showNotification(this.translate.instant("ADD_SUPPLIER.NO_SEARCH_RESULTS"),"info")}selectSupplier(o){if(this.selectedSupplierId===o){this.selectedSupplierId=null;return}this.selectedSupplierId=o,this.selectedSupplier=this.filteredSuppliers.find(e=>e.id===o),this.loadReviews(o)}toggleSupplierExpansion(o){this.expandedSupplierId===o?this.expandedSupplierId=null:(this.expandedSupplierId=o,this.loadReviews(o),this.checkIfCanAddReview(o))}loadReviews(o){this.reviewService.getReviewsForSupplier(o,e=>{this.reviews=e,this.reviews.forEach(a=>{a.canEdit=a.businessmanId===this.currentUserId})})}checkIfCanAddReview(o){this.reviewService.hasBusinessmanReviewed(o,this.currentUserId,e=>{this.canAddReview=!e})}closeReviewForm(){this.showReviewForm=!1,this.selectedReviewSupplierId=null,this.isEditingReview=!1,this.editingReviewId=null}submitReview(){if(!(!this.selectedReviewSupplierId||this.isSubmitting)){if(this.newReview.rating<1||this.newReview.rating>5){this.showNotification(this.translate.instant("ADD_SUPPLIER.RATING_RANGE_ERROR"),"warning");return}this.isLoading=!0,this.isSubmitting=!0,this.isEditingReview&&this.editingReviewId?this.reviewService.updateReview(this.editingReviewId,this.newReview.rating,this.newReview.comment).subscribe({next:()=>{this.showNotification(this.translate.instant("ADD_SUPPLIER.REVIEW_UPDATED_SUCCESS"),"success"),this.closeReviewForm(),this.loadReviews(this.selectedReviewSupplierId),this.updateSupplierRating(),this.isLoading=!1,this.isSubmitting=!1},error:o=>{console.error("Error al actualizar rese\xF1a:",o),this.showNotification(this.translate.instant("ADD_SUPPLIER.REVIEW_ERROR"),"error"),this.isLoading=!1,this.isSubmitting=!1}}):this.reviewService.addReview(this.selectedReviewSupplierId,this.currentUserId,this.newReview.rating,this.newReview.comment,this.currentUserName).subscribe({next:()=>{this.showNotification(this.translate.instant("ADD_SUPPLIER.REVIEW_ADDED_SUCCESS"),"success"),this.closeReviewForm(),this.loadReviews(this.selectedReviewSupplierId),this.updateSupplierRating(),this.canAddReview=!1,this.isLoading=!1,this.isSubmitting=!1},error:o=>{console.error("Error al agregar rese\xF1a:",o),this.showNotification(this.translate.instant("ADD_SUPPLIER.REVIEW_ERROR"),"error"),this.isLoading=!1,this.isSubmitting=!1}})}}updateSupplierRating(){this.selectedReviewSupplierId&&this.reviewService.calculateAverageRating(this.selectedReviewSupplierId,(o,e)=>{let a=this.filteredSuppliers.find(t=>t.id===this.selectedReviewSupplierId);a&&(a.averageRating=o,a.totalReviews=e)})}showRequestFormFor(o){this.selectedSupplier=o,this.selectedSupplierId=o.id,this.showRequestForm=!0,this.batchType="",this.batchColor="",this.quantity=0,this.address="",this.requestMessage=""}cancelRequest(){this.showRequestForm=!1,this.batchType="",this.batchColor="",this.quantity=0,this.address="",this.requestMessage=""}showBatchFormFor(o){this.selectedSupplier=o,this.selectedSupplierId=o.id,this.showBatchForm=!0;let e=new Date().toISOString().split("T")[0];this.newBatch={code:"L-"+Math.floor(1e3+Math.random()*9e3),client:this.currentUserName,businessmanId:this.currentUserId,supplierId:o.id,fabricType:"",color:"",quantity:0,price:0,observations:"",address:"",date:e,status:B.PENDIENTE,imageUrl:""}}cancelBatch(){this.showBatchForm=!1,this.selectedSupplierId=null}createBatch(){if(!this.isBatchSubmitting){if(!this.newBatch.fabricType){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.FABRIC_TYPE_REQUIRED"),"warning");return}if(!this.newBatch.color){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.COLOR_REQUIRED"),"warning");return}if(!this.newBatch.quantity||this.newBatch.quantity<=0){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.QUANTITY_REQUIRED"),"warning");return}if(!this.newBatch.price||this.newBatch.price<=0){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.PRICE_REQUIRED"),"warning");return}if(!this.newBatch.address){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.ADDRESS_REQUIRED"),"warning");return}this.isLoading=!0,this.isBatchSubmitting=!0,this.batchService.create(this.newBatch).subscribe({next:()=>{this.showNotification(this.translate.instant("ADD_SUPPLIER.BATCH_CREATED_SUCCESS"),"success"),this.showBatchForm=!1,this.isLoading=!1,this.isBatchSubmitting=!1},error:o=>{console.error("Error al crear lote:",o),this.showNotification(this.translate.instant("ADD_SUPPLIER.BATCH_ERROR"),"error"),this.isLoading=!1,this.isBatchSubmitting=!1}})}}sendRequest(){if(!this.selectedSupplierId){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.SELECT_SUPPLIER"),"warning");return}if(this.showRequestForm){if(!this.batchType){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.FABRIC_TYPE_REQUIRED"),"warning");return}if(!this.batchColor){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.COLOR_REQUIRED"),"warning");return}if(this.quantity<=0){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.QUANTITY_REQUIRED"),"warning");return}if(!this.address){this.showNotification(this.translate.instant("ADD_SUPPLIER.VALIDATION_ERRORS.ADDRESS_REQUIRED"),"warning");return}}if(this.isLoading)return;let o=this.selectedSupplierId;this.isLoading=!0,this.requestService.checkExistingRequest(this.currentUserId,o).subscribe({next:e=>{if(e&&e.length>0){let t=e[0].status==="pending"?"ADD_SUPPLIER.REQUEST_PENDING":"ADD_SUPPLIER.CONNECTION_EXISTS";this.showNotification(this.translate.instant(t),"warning"),this.isLoading=!1;return}this.requestService.createRequest(this.currentUserId,o,this.requestMessage,this.batchType,this.batchColor,this.quantity,this.address).subscribe({next:()=>{this.showNotification(this.translate.instant("ADD_SUPPLIER.REQUEST_SENT_SUCCESS"),"success"),this.showRequestForm=!1,this.batchType="",this.batchColor="",this.quantity=0,this.address="",this.requestMessage="",this.isLoading=!1,this.loadData()},error:a=>{console.error("Error al enviar solicitud:",a),this.showNotification(this.translate.instant("ADD_SUPPLIER.REQUEST_ERROR"),"error"),this.isLoading=!1}})},error:e=>{console.error("Error al verificar solicitudes existentes:",e),this.showNotification(this.translate.instant("ADD_SUPPLIER.REQUEST_CHECK_ERROR"),"error"),this.isLoading=!1}})}showNotification(o,e){this.notification={show:!0,message:o,type:e}}closeNotification(){this.notification.show=!1}setRating(o){this.newReview.rating=o}hoverRating(o){this.hoverRatingValue=o}openReviewForm(o){this.selectedReviewSupplierId=o,this.showReviewForm=!0,this.isEditingReview=!1,this.editingReviewId=null,this.hoverRatingValue=0,this.newReview={rating:5,comment:""}}editReview(o){this.selectedReviewSupplierId=o.supplierId,this.editingReviewId=o.id,this.isEditingReview=!0,this.showReviewForm=!0,this.hoverRatingValue=0,this.newReview={rating:o.rating,comment:o.comment}}onSearchInput(){(this.searchTerm.length>2||this.searchTerm.length===0)&&this.searchSuppliers()}clearSearch(){this.searchTerm="",this.searchSuppliers()}static \u0275fac=function(e){return new(e||s)(D(te),D(le),D(T),D(ae),D(ie),D(Y))};static \u0275cmp=N({type:s,selectors:[["app-add-supplier"]],decls:28,vars:32,consts:[[1,"container"],[1,"tab-navigation"],[1,"tab-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"material-icons","search-icon"],["type","text",1,"search-input",3,"ngModelChange","keyup.enter","input","placeholder","ngModel"],["class","clear-button",3,"click",4,"ngIf"],["variant","primary","icon","filter_list",3,"click","label"],["class","loading",4,"ngIf"],["class","no-results",4,"ngIf"],["class","suppliers-grid",4,"ngIf"],["class","suppliers-list",4,"ngIf"],["class","modal",4,"ngIf"],[3,"close","show","message","type","autoClose"],[1,"clear-button",3,"click"],[1,"material-icons"],[1,"loading"],[1,"no-results"],[4,"ngIf"],[1,"suppliers-grid"],["class","supplier-card",4,"ngFor","ngForOf"],[1,"supplier-card"],[1,"supplier-header",3,"click"],[1,"supplier-title"],[1,"dropdown-arrow"],[1,"supplier-info"],[1,"supplier-email"],["alt","avatar",1,"supplier-avatar",3,"src"],["class","supplier-rating",4,"ngIf"],["variant","primary",3,"click","label","fullWidth"],["class","supplier-expanded",4,"ngIf"],[1,"supplier-rating"],[1,"star","empty"],[1,"no-rating-text"],[1,"star",3,"ngClass"],[1,"supplier-expanded"],[1,"supplier-details"],[1,"reviews-section"],[1,"reviews-header"],["variant","primary","size","small",3,"label","click",4,"ngIf"],["class","reviews-list",4,"ngIf"],["class","no-reviews",4,"ngIf"],["variant","primary","size","small",3,"click","label"],[1,"reviews-list"],["class","review-item",4,"ngFor","ngForOf"],[1,"review-item"],[1,"review-header"],["alt","reviewer",1,"reviewer-avatar",3,"src"],[1,"review-info"],[1,"review-email"],[1,"review-rating"],[1,"review-date"],["variant","secondary","size","small",3,"label","click",4,"ngIf"],[1,"review-text"],["variant","secondary","size","small",3,"click","label"],[1,"no-reviews"],[1,"suppliers-list"],["class","supplier-item",4,"ngFor","ngForOf"],[1,"supplier-item"],[1,"supplier-name"],["variant","primary",3,"click","label"],["class","reviews-section",4,"ngIf"],[1,"star"],[1,"modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"close-modal",3,"click"],[1,"request-form"],[1,"form-group"],["type","textarea",3,"ngModelChange","ngModel","placeholder","fullWidth"],["type","text",3,"ngModelChange","ngModel","placeholder","fullWidth"],["type","number",3,"ngModelChange","ngModel","placeholder","fullWidth"],["variant","primary",3,"click","label","loading","fullWidth"],[1,"batch-form"],[1,"form-row"],[1,"form-group","half"],["type","date",3,"ngModelChange","ngModel","fullWidth"],[1,"modal-content","review-modal"],[1,"review-form"],[1,"star-rating-container"],[1,"clickable-stars"],[1,"star-click",3,"click","mouseenter","mouseleave"],[1,"rating-display"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),v("click",function(){return a.setActiveTab("current")}),p(3),d(4,"translate"),i(),r(5,"div",2),v("click",function(){return a.setActiveTab("add")}),p(6),d(7,"translate"),i()(),r(8,"div",3)(9,"div",4)(10,"i",5),p(11,"search"),i(),r(12,"input",6),d(13,"translate"),w("ngModelChange",function(l){return S(a.searchTerm,l)||(a.searchTerm=l),l}),v("keyup.enter",function(){return a.searchSuppliers()})("input",function(){return a.onSearchInput()}),i(),C(14,_e,3,0,"button",7),i(),r(15,"app-button",8),d(16,"translate"),v("click",function(){return a.searchSuppliers()}),i()(),r(17,"h2"),p(18),d(19,"translate"),i(),C(20,ge,3,3,"div",9)(21,fe,4,3,"div",10)(22,Ae,2,1,"div",11)(23,Ve,2,1,"div",12)(24,ke,41,48,"div",13)(25,Ne,65,77,"div",13)(26,We,35,40,"div",13),r(27,"app-notification",14),v("close",function(){return a.closeNotification()}),i()()),e&2&&(n(2),b("active",a.activeTab==="current"),n(),P(" ",c(4,22,"ADD_SUPPLIER.CURRENT_SUPPLIERS")," "),n(2),b("active",a.activeTab==="add"),n(),P(" ",c(7,24,"ADD_SUPPLIER.ADD_SUPPLIER")," "),n(6),x("placeholder",c(13,26,"ADD_SUPPLIER.SEARCH_PLACEHOLDER")),f("ngModel",a.searchTerm),n(2),u("ngIf",a.searchTerm),n(),x("label",c(16,28,"COMMON.FILTER")),n(3),h(c(19,30,"ADD_SUPPLIER.SUPPLIERS")),n(2),u("ngIf",a.isLoading),n(),u("ngIf",!a.isLoading&&a.filteredSuppliers.length===0),n(),u("ngIf",a.activeTab==="current"),n(),u("ngIf",a.activeTab==="add"),n(),u("ngIf",a.showRequestForm),n(),u("ngIf",a.showBatchForm),n(),u("ngIf",a.showReviewForm),n(),u("show",a.notification.show)("message",a.notification.message)("type",a.notification.type)("autoClose",!0))},dependencies:[j,F,z,q,Q,J,K,X,Z,re,ne,pe,G,H],styles:['.supplier-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin:8px 0;padding:4px 0}.supplier-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:18px!important;display:inline-block!important;width:20px!important;text-align:center!important;line-height:1!important;transform:none!important;transition:none!important;animation:none!important;margin-right:2px!important;position:static!important;background:none!important;border:none!important;box-shadow:none!important;text-shadow:none!important}.supplier-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:hover{transform:none!important;transition:none!important;animation:none!important;scale:none!important;background:none!important;box-shadow:none!important}.star.empty[_ngcontent-%COMP%]{color:#999!important}.star[_ngcontent-%COMP%]{font-size:20px;color:#ddd;line-height:1;font-weight:400;font-style:normal;display:inline-block;vertical-align:middle;transition:none!important;text-shadow:none;transform:none!important;animation:none!important}.star[_ngcontent-%COMP%]:hover{transform:none!important;transition:none!important;animation:none!important;scale:none!important}.star.filled[_ngcontent-%COMP%]{color:#ffc107!important}.review-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;margin:4px 0}.review-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:14px!important;display:inline-block!important;width:16px!important;text-align:center!important;transform:none!important;transition:none!important;animation:none!important;margin-right:2px!important;position:static!important;background:none!important;border:none!important;box-shadow:none!important;text-shadow:none!important}.review-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:hover{transform:none!important;transition:none!important;animation:none!important;scale:none!important;background:none!important;box-shadow:none!important}.star[_ngcontent-%COMP%]:not(.star-click){transform:none!important;transition:none!important;animation:none!important;position:static!important;background:none!important;border:none!important;box-shadow:none!important;text-shadow:none!important}.star[_ngcontent-%COMP%]:not(.star-click):hover{transform:none!important;transition:none!important;animation:none!important;scale:none!important;background:none!important;box-shadow:none!important}.star-rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;padding:24px;background:linear-gradient(135deg,#ffc10708,#ffc10714);border-radius:16px;border:2px solid rgba(255,193,7,.2);transition:all .3s ease;margin:12px 0;box-shadow:0 4px 20px #ffc1071a;position:relative;overflow:hidden}.star-rating-container[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffc10714,#ffc10726);border-color:#ffc10766;box-shadow:0 8px 30px #ffc10733;transform:translateY(-2px)}.clickable-stars[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;position:relative;z-index:1}.star-click[_ngcontent-%COMP%]{font-size:44px;color:#e0e0e0;cursor:pointer;transition:all .3s ease;-webkit-user-select:none;user-select:none;text-shadow:0 3px 8px rgba(0,0,0,.15);transform-origin:center;line-height:1;display:inline-flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:50%;position:relative;background:#fff9;border:2px solid transparent}.star-click.active[_ngcontent-%COMP%]{color:#ffc107!important;text-shadow:0 4px 15px rgba(255,193,7,.7);transform:scale(1.15);background:#ffc10733;border-color:#ffc10766}.rating-display[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:#333;background:linear-gradient(135deg,#ffc10740,#ffc10726);padding:16px 28px;border-radius:16px;border:3px solid rgba(255,193,7,.3);min-width:80px;text-align:center;box-shadow:0 6px 20px #ffc10733;transition:all .3s ease;letter-spacing:1px;position:relative;z-index:1}.rating-display[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 25px #ffc1074d}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;height:auto;overflow:hidden}.tab-navigation[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;margin-bottom:20px;overflow:hidden;position:relative}.tab-button[_ngcontent-%COMP%]{flex:1;padding:16px 20px;font-size:14px;cursor:pointer;text-align:center;color:#666;background:transparent;border:none;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);font-weight:500}.tab-button[_ngcontent-%COMP%]:hover{background-color:#a68b6b0d;color:var(--primary-color)}.tab-button.active[_ngcontent-%COMP%]{color:var(--primary-color);background-color:#a68b6b1a}.tab-button.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary-color),var(--primary-dark));border-radius:2px 2px 0 0}.search-container[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin:20px 0;max-width:800px;width:100%}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #e0e0e0;border-radius:12px;box-shadow:0 2px 8px #00000014;transition:all .3s ease;min-height:48px;flex:1;overflow:hidden}.search-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#a68b6b;box-shadow:0 4px 12px #a68b6b26}.search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#a68b6b;box-shadow:0 0 0 3px #a68b6b26}.search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;color:#666;font-size:20px!important;z-index:2;transition:color .3s ease;width:20px!important;height:20px!important}.search-input-wrapper[_ngcontent-%COMP%]:focus-within   .search-icon[_ngcontent-%COMP%]{color:#a68b6b}.search-input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;background:transparent;padding:14px 50px 14px 52px;font-size:16px;color:#333;font-family:inherit}.search-input[_ngcontent-%COMP%]::placeholder{color:#999;font-weight:400}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;cursor:pointer;color:#999;padding:4px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.clear-button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#666}.clear-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px!important}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:20px;color:var(--text-dark);display:flex;align-items:center;gap:12px}h2[_ngcontent-%COMP%]:before{content:"store";font-family:Material Icons;font-size:20px;color:var(--primary-color)}.loading[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:60px 20px;color:#666;background:transparent;border-radius:12px;box-shadow:0 2px 8px #00000014}.loading[_ngcontent-%COMP%]:before{content:"hourglass_empty";font-family:Material Icons;font-size:48px;margin-bottom:16px;color:var(--primary-color)}.no-results[_ngcontent-%COMP%]:before{content:"search_off";font-family:Material Icons;font-size:48px;margin-bottom:16px;color:#ccc}.suppliers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.supplier-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #00000014;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(0,0,0,.05);position:relative}.supplier-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #0000001f}.suppliers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;overflow:hidden;height:100%}.supplier-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f;border:1px solid rgba(0,0,0,.05);transition:box-shadow .2s ease,transform .2s ease;overflow:visible}.supplier-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.supplier-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:18px;cursor:pointer;background:linear-gradient(135deg,#f8f9fa,#f1f3f4);border-bottom:1px solid rgba(0,0,0,.05);transition:all .2s ease}.supplier-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a68b6b0d,#a68b6b1a)}.supplier-title[_ngcontent-%COMP%], .supplier-name[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--text-dark);line-height:1.3}.dropdown-arrow[_ngcontent-%COMP%]{font-family:Material Icons;font-size:20px;color:#666;transition:all .3s cubic-bezier(.4,0,.2,1);padding:8px;border-radius:50%;background:#0000000d}.dropdown-arrow[_ngcontent-%COMP%]:before{content:"expand_more"}.dropdown-arrow.expanded[_ngcontent-%COMP%]{transform:rotate(180deg);background:#a68b6b26;color:var(--primary-color)}.supplier-info[_ngcontent-%COMP%]{padding:18px;display:flex;flex-direction:column;gap:16px}.supplier-email[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:14px;color:#555;padding:12px;background:#00000005;border-radius:8px}.supplier-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid rgba(166,139,107,.2);transition:all .2s ease}.supplier-avatar[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:scale(1.05)}.supplier-expanded[_ngcontent-%COMP%]{padding:18px;background:linear-gradient(135deg,#fafbfc,#f8f9fa);border-top:1px solid rgba(0,0,0,.05)}.supplier-details[_ngcontent-%COMP%]{margin-bottom:20px;padding:18px;background:#fff;border-radius:8px;box-shadow:0 2px 6px #0000000a}.supplier-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:var(--text-dark);font-size:16px;font-weight:600;display:flex;align-items:center;gap:8px}.supplier-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"info";font-family:Material Icons;font-size:16px;color:var(--primary-color)}.supplier-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:14px;line-height:1.5;color:#666}.supplier-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-dark);font-weight:500}.reviews-section[_ngcontent-%COMP%]{margin-top:16px;overflow:visible}.reviews-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:16px;background:#fff;border-radius:8px;box-shadow:0 2px 6px #0000000a}.reviews-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:16px;font-weight:600;display:flex;align-items:center;gap:8px}.reviews-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"star_rate";font-family:Material Icons;font-size:16px;color:#ffc107}.reviews-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.review-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:16px;box-shadow:0 2px 8px #0000000f;border-left:4px solid rgba(166,139,107,.3);transition:all .2s ease}.review-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;border-left-color:var(--primary-color)}.review-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-bottom:8px}.reviewer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid rgba(166,139,107,.2);flex-shrink:0}.review-info[_ngcontent-%COMP%]{flex:1;min-width:0}.review-email[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:var(--text-dark);margin-bottom:4px}.review-date[_ngcontent-%COMP%]{color:#777;font-size:12px;margin-top:4px}.review-text[_ngcontent-%COMP%]{margin:12px 0 0;font-size:14px;line-height:1.6;color:#555}.no-reviews[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#777;font-style:italic;background:#fff;border-radius:8px;box-shadow:0 2px 6px #0000000a}.no-reviews[_ngcontent-%COMP%]:before{content:"comment";font-family:Material Icons;font-size:32px;display:block;margin-bottom:12px;color:#ccc}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:12px;box-shadow:0 20px 40px #0003;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;z-index:1001}.review-modal[_ngcontent-%COMP%]{max-width:650px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#0000001a;border:none;border-radius:50%;width:32px;height:32px;font-size:18px;cursor:pointer;color:#666;transition:all .2s ease;z-index:10}.close-modal[_ngcontent-%COMP%]:hover{background:#0003;color:#333}.request-form[_ngcontent-%COMP%], .batch-form[_ngcontent-%COMP%], .review-form[_ngcontent-%COMP%]{padding:24px}.batch-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .review-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:22px;font-weight:600;color:var(--text-dark)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px}.form-group.half[_ngcontent-%COMP%]{flex:1}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:var(--text-dark);font-size:14px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px}.search-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.suppliers-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.supplier-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.tab-button[_ngcontent-%COMP%]{font-size:13px;padding:12px 16px}.modal-content[_ngcontent-%COMP%]{margin:16px;max-width:calc(100% - 32px)}.review-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.star-click[_ngcontent-%COMP%]{font-size:36px;width:44px;height:44px}.clickable-stars[_ngcontent-%COMP%]{gap:8px}.rating-display[_ngcontent-%COMP%]{font-size:20px;padding:12px 20px;min-width:70px}.star-rating-container[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{font-size:20px}.modal-content[_ngcontent-%COMP%]{border-radius:8px}.star-click[_ngcontent-%COMP%]{font-size:32px;width:40px;height:40px}.star[_ngcontent-%COMP%]{font-size:18px}.review-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:14px}}']})};export{se as AddSupplierComponent};
