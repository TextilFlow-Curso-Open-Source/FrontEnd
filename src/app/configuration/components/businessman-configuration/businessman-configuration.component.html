<!-- src/app/configuration/components/businessman-configuration/businessman-configuration.component.html -->

<div class="configuration-container">
  <div *ngIf="isLoading" class="loading-indicator">
    {{ 'COMMON.LOADING' | translate }}
  </div>

  <div *ngIf="!isLoading && configuration">
    <h2>{{ 'CONFIGURATION.TITLE' | translate }}</h2>

    <!-- Configuraci贸n de idioma -->
    <div class="form-group">
      <label>{{ 'CONFIGURATION.LANGUAGE' | translate }}</label>
      <div class="language-options">
        <div class="language-option" *ngFor="let lang of languageOptions">
          <button
            [class.active]="configuration.language === lang.value"
            (click)="changeLanguage(lang.value)"
            class="language-button">
            {{ lang.label }}
          </button>
        </div>
      </div>
    </div>

    <!-- Configuraci贸n de formato de c贸digo de lote -->
    <div class="form-group">
      <app-input
        [label]="'CONFIGURATION.BATCH_CODE' | translate"
        type="select"
        [options]="batchCodeOptions"
        [(ngModel)]="configuration.batchCodeFormat"
        [fullWidth]="true">
      </app-input>
    </div>

    <!-- Theme Switcher - Reemplaza el select anterior -->
    <div class="form-group">
      <label>{{ 'CONFIGURATION.VIEW_MODE' | translate }}</label>
      <app-theme-switcher
        variant="buttons"
        size="medium"
        [showLabels]="true"
        [fullWidth]="true">
      </app-theme-switcher>
    </div>

    <!-- Botones de acci贸n -->
    <div class="button-container">
      <app-button
        [label]="'COMMON.SAVE' | translate"
        variant="primary"
        [loading]="isLoading"
        (click)="saveConfiguration()">
      </app-button>

      <app-button
        [label]="'COMMON.CANCEL' | translate"
        variant="secondary"
        [disabled]="isLoading"
        (click)="cancel()">
      </app-button>
    </div>
  </div>

  <app-notification
    *ngIf="notification.show"
    [message]="notification.message"
    [type]="notification.type"
    (close)="notification.show = false">
  </app-notification>
</div>
